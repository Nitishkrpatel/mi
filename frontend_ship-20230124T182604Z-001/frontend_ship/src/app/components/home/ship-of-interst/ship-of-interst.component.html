<div id="soi-Overall">
  <div id="soi-top-pannel" *ngIf="featureSelectedSOI == 'true' && featureSelectedSOISidenav == true " class='soi'>
    <h3>Ships of Interest</h3>
    <mat-accordion>
        <mat-expansion-panel class="cust-accordian">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <div class="col-sm-2 padding-lr-0 padding-left-4px">
                      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path class="active-images" fill-rule="evenodd" clip-rule="evenodd" d="M12.3665 0.842083L14.5929 3.27308C15.0989 3.82549 15.5444 4.43468 15.9214 5.08948C16.8453 6.69412 17.3333 8.53026 17.3333 10.4016V13.4168C17.3333 13.969 16.8856 14.4168 16.3333 14.4168H15.6274C14.9257 14.4168 14.1853 14.2051 14 13.9243C13.8148 13.6436 13.8148 12.0682 13.8148 12.0682C13.8148 10.1969 13.3268 8.36079 12.4029 6.75615C12.0259 6.10135 11.5803 5.49216 11.0744 4.93975L9.53308 3.25677L11.7445 0.842083C11.9163 0.608303 12.1948 0.608303 12.3665 0.842083ZM8.48194 6.18973L6.25553 3.75873C6.08378 3.52495 5.8053 3.52495 5.63354 3.75873L3.40714 6.18973C2.90122 6.74214 2.45567 7.35133 2.07867 8.00613C1.15478 9.61077 0.666748 11.4469 0.666748 13.3182V16.3334C0.666748 16.8857 1.11446 17.3334 1.66675 17.3334H10.2223C10.7746 17.3334 11.2223 16.8857 11.2223 16.3334V13.3182C11.2223 11.4469 10.7343 9.61077 9.81041 8.00613C9.4334 7.35133 8.98786 6.74214 8.48194 6.18973Z" fill="#ffffff"/>
                        </svg>
                        
                    </div>
                    <div class="col-sm-10 padding-lr-0 soi-header">
                        Individual Ships
                    </div>
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="soi_scroll">
                <div class="row " *ngFor="let s of getSOI">
                    <div class="col-sm-9" id="soipanel">
                        <label class="shipname dotted_wrap " matTooltip="{{s.mmsi}}"
                            [ngClass]="{ 'active_text': selectedsoiships[s.mmsi] == true }">
                            <input type="checkbox" [value]="s.mmsi" [checked]=selectedsoiships[s.mmsi]
                                class="getDetailsForSelectedShipInSoi-checkbox" (change)="getDetailsForSelectedShipInSoi($event)" />
                            {{s.name}}
                        </label>
                    </div>
                    <div class="col-sm-2">
                        <img class="deleteSoI" (click)=deleteSoI(s) src="../../../assets/soi/delete.svg" alt='delete' />
                    </div>
                </div>
            </div>
        </mat-expansion-panel>
        <br>

        <mat-expansion-panel class="cust-accordian">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <div class="col-sm-2 padding-lr-0">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path class="active-images" fill-rule="evenodd" clip-rule="evenodd" d="M7.57448 1.51008C7.15648 0.974749 6.51921 0.659417 5.83648 0.666625H4.67782C2.01583 0.666625 0.666504 2.20674 0.666504 5.24273V10.75C0.666504 13.588 2.41916 15.3334 5.24249 15.3334H10.7498C13.5878 15.3334 15.3331 13.588 15.3331 10.7574V7.18606C15.3404 4.2234 14.0204 2.77874 11.3145 2.77874H9.06314C8.73314 2.77874 8.42514 2.62474 8.21981 2.36808L7.57448 1.51008ZM10.4606 6.21336L9.48102 5.14373C9.40545 5.04086 9.28292 5.04086 9.20735 5.14373L8.23432 6.20618L8.91249 6.94669C9.13509 7.18975 9.33113 7.45779 9.49701 7.7459C9.90351 8.45194 10.1182 9.25984 10.1182 10.0832V10.9332C10.3602 11.1166 10.678 11.1166 10.9158 11.1166H11.1664C11.4425 11.1166 11.6664 10.8927 11.6664 10.6166V9.34988C11.6664 8.52651 11.4516 7.71861 11.0451 7.01257C10.8792 6.72446 10.6832 6.45642 10.4606 6.21336ZM6.79216 6.42706L7.77176 7.49669C7.99436 7.73975 8.1904 8.00779 8.35627 8.2959C8.76278 9.00194 8.9775 9.80984 8.9775 10.6332V11.8999C8.9775 12.176 8.75365 12.3999 8.47751 12.3999H4.83315C4.55701 12.3999 4.33315 12.176 4.33315 11.8999V10.6332C4.33315 9.80984 4.54788 9.00194 4.95438 8.2959C5.12026 8.00779 5.3163 7.73975 5.53889 7.49669L6.51849 6.42706C6.59406 6.32419 6.71659 6.32419 6.79216 6.42706Z" fill="#ffffff"/>
                        </svg>
                        
                    </div>
                    <div class="col-sm-8 padding-lr-0 soi-header">
                        Ship Groups
                    </div>
                    <div class="col-sm-2 padding-lr-0">
                        <a id="add-group" data-toggle="modal" data-target="#goinewModel">
                            <img src="../../../assets/soi/add-group-white.svg" alt="add new group" />
                        </a>
                    </div>
                </mat-panel-title>

            </mat-expansion-panel-header>
            <div class="soi_scroll">
                <div *ngFor="let g of goi">
                    <mat-expansion-panel class="cust-accordian inner-accordian">
                        <mat-expansion-panel-header>
                            <div class="row width100">
                                <div class="col-sm-8 word-break">
                                    <label class="shipname dotted_wrap" matTooltip="{{g.Group_ID}}"
                                    [ngClass]="{ 'active_text': selectedgoi[g.Group_ID] == true }">
                                        <input type="checkbox" (click)="$event.stopPropagation()" [value]="g.MMSI"
                                            id="{{g.Group_ID}}" [checked]=selectedgoi[g.Group_ID]
                                            (keydown)="$event.stopPropagation()" class="getDetailsForselectedGroup-checkbox"
                                            (change)="getDetailsForselectedGroup($event)" />
                                        {{g.Group_ID}}
                                    </label>
                                </div>
                                <div class="col-sm-2 padding-lr-0">
                                    <img class="editGoI" (click)="editGoI(g.Group_ID)" src="../../../assets/roi/edit_roi.svg"
                                        alt='edit' />

                                </div>
                                <div class="col-sm-2 padding-lr-0">
                                    <img class="deleteGoI" (click)=deleteGoI(g) src="../../../assets/soi/delete.svg"
                                        alt='delete' />
                                </div>
                            </div>
                        </mat-expansion-panel-header>
                        <div style="margin-left: 20px;" class="scroll goi_scroll_limits">
                            <div class="row " *ngFor="let m of g.group_details">
                                <div class="col-sm-10 goipanel" id={{g.Group_ID}}>
                                    <label style="font-size: 14px;" class="shipname dotted_wrap " matTooltip="{{m.mmsi}}">
                                        <input type="checkbox" [value]="m.mmsi" name="{{g.Group_ID}}"
                                           class="getDetailsforSelectedShipInGroup-checkbox" (change)="getDetailsforSelectedShipInGroup(g.Group_ID, $event)"
                                            [checked]=selectedgoiships[g.Group_ID] />
                                        {{m.name}}
                                    </label>
                                </div>
                                <div class="col-sm-1 padding-lr-0">
                                    <img class="deleteMMSIFromGroup" (click)=deleteMMSIFromGroup(g.Group_ID,m.mmsi)
                                        src="../../../assets/soi/delete.svg" alt='delete' />
                                </div>
                            </div>
                        </div>
                    </mat-expansion-panel>
                    <br>
                </div>
            </div>
        </mat-expansion-panel>
    </mat-accordion>
  </div>

  <mat-accordion id="soi-bottom-pannel" *ngIf="featureSelectedSOI == 'true' && (trackdetailslength !== 0 || goitrackdetailslength !== 0 )" class="trackinfo-panel">
    <mat-expansion-panel id="Track-expansion" class="scroll">


      <mat-expansion-panel-header>
        <mat-panel-title class="trackandanomaly-header">
          Track and Anomaly Info
        </mat-panel-title>
        <!-- <img style="right:1em; " src="../../../assets/roi/Collapse.svg" alt="collapse" /> -->
      </mat-expansion-panel-header>
      <span class="trackandanomaly">
        <ul class="nav nav-pills" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" data-toggle="pill" href="#trackinfo" >Track
              info</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="pill" href="#anomalyinfo">Anomaly Info</a>
          </li>
          <li class="nav-item">
            <a class="nav-link reloadSoiAndGoiTrackInfo" data-toggle="pill" (click)="reloadSoiAndGoiTrackInfo();"><img src='../../../../assets/soi/refresh.svg' alt="refresh" /></a>
          </li>
        </ul>

      </span>
      <div class="tab-content scroll" style="min-height:400px;max-height: 500px; overflow-y: auto;">
        <div id="trackinfo" class="container tab-pane active">
          <div class="row">
            <div class="col-sm-8"></div>
            <div class="col-sm-4" style="font-family: CharlieText-Bold;">
              SHOW ALL TRAJECTORY 
              <img src="../../../assets/soi/big-Switch.svg" id="imageColors" value=false
                id="alltrajectory" class="showAllTrajectory" (click)="showAllTrajectory()" />
            </div>
          </div>
          <div class="trackinfopanel">
            <mat-card class="example-card" *ngFor="let t of trackdetails">
              <div id="trackinfo-header" class="row">
                <div class="col-sm-5" style="font-size: 16px;"><img class="img-vertical-align-baseline"
                    src="../../../assets/soi/ship.svg" /> {{t.Ship_name }} ({{t.MMSI}})
                </div>
                <div class="col-sm-3" style="font-size: 14px;"><svg class="img-verical-text-top"
                    id="imageColors" width="16" height="16" viewBox="0 0 16 16" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M13.6668 6.7878C13.6668 11.0302 8.00016 14.6666 8.00016 14.6666C8.00016 14.6666 2.3335 11.0302 2.3335 6.7878C2.3335 5.34116 2.93052 3.95378 3.99322 2.93085C5.05593 1.90793 6.49727 1.33325 8.00016 1.33325C9.50306 1.33325 10.9444 1.90793 12.0071 2.93085C13.0698 3.95378 13.6668 5.34116 13.6668 6.7878ZM10.7265 6.10455C10.9218 5.90922 10.9218 5.59322 10.7265 5.39788C10.5311 5.20255 10.2151 5.20255 10.0198 5.39788L7.20913 8.20788L5.97979 6.97988C5.78446 6.78455 5.46846 6.78455 5.27313 6.97988C5.07779 7.17522 5.07779 7.49122 5.27313 7.68655L6.85579 9.26855C6.95313 9.36655 7.08179 9.41522 7.20913 9.41522C7.33713 9.41522 7.46513 9.36655 7.56246 9.26855L10.7265 6.10455Z"
                      fill="" />
                  </svg>
                  <span class="trackinfoheading">Journeys Completed: </span>
                  <span class="trackinfodetails"> {{t.Journeys_completed}}</span>
                </div>
                <div class="col-sm-2" style="font-size: 14px;">
                  <a *ngIf= 't.detailslength !== 0' class="playHistory-button" style="color: white !important;" (click)="playHistory(t.MMSI, t.traj_details)"><img class="img-vertical-align"
                    src="../../../assets/soi/Play.svg" /> PLAY HISTORY </a></div>

              </div>
              <mat-divider></mat-divider>

              <div style="max-height: 200px; overflow-y: auto;" class="scroll">

                <mat-card-content *ngIf= 't.detailslength === 0' id="trackinfo-content">
                  <div class="row">
                    <div class="col-sm-12">
                      <span class="trackinfoheading">No Track details</span>
                    </div>
                  </div>
                </mat-card-content>

                <mat-card-content *ngFor="let jd of t.traj_details" id="trackinfo-content">
                  <span class="trackinfoindex"> {{jd.index}} / {{t.Journeys_completed}} </span>
                  <span class="trackinfoheading"> Trajectory ID: </span>
                  <span class="trackinfodetails"> {{jd.traj_id}} </span>
                  <div class="row" id="trackinfo-firstrow">
                    <div class="col-sm-3">

                      <svg id="imageColors" class="img-verical-text-top" width="16" height="16"
                        viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M11.6643 13.8667C11.005 13.8667 10.7198 13.6387 10.2886 13.294C9.7899 12.8958 9.17024 12.4001 7.99544 12.4001C6.82137 12.4001 6.2017 12.8958 5.70377 13.2947C5.2733 13.6387 4.98877 13.8667 4.3295 13.8667C3.6717 13.8667 3.38717 13.6387 2.9567 13.2947C2.56217 12.9787 2.09213 12.6018 1.3299 12.4589C0.96801 12.3911 0.666504 12.6986 0.666504 13.0667V13.2001C0.666504 13.5683 0.976752 13.842 1.32088 13.9729C1.5814 14.0721 1.78513 14.2351 2.04004 14.4387C2.53797 14.8377 3.1569 15.3334 4.3295 15.3334C5.50357 15.3334 6.1225 14.8377 6.62044 14.4395C7.05164 14.0948 7.33617 13.8667 7.99544 13.8667C8.65544 13.8667 8.95684 14.1073 9.37264 14.4395C9.87057 14.8377 10.4902 15.3334 11.6643 15.3334C12.8384 15.3334 13.458 14.8377 13.956 14.4395C14.2042 14.2412 14.4116 14.0755 14.679 13.9742C15.0232 13.8437 15.3332 13.5683 15.3332 13.2001V13.0667C15.3332 12.6986 15.0317 12.3911 14.6698 12.4588C13.9065 12.6016 13.4352 12.9784 13.04 13.294C12.6088 13.6387 12.3236 13.8667 11.6643 13.8667ZM3.59984 5.43341L3.42669 5.4767C2.7123 5.6553 2.27795 6.37921 2.45655 7.0936L3.59984 11.6667C3.59984 11.6667 4.10437 11.6667 4.3295 11.6667C5.50357 11.6667 6.1225 11.171 6.62044 10.7728C7.05164 10.4281 7.33617 10.2001 7.99544 10.2001C8.65544 10.2001 8.95684 10.4406 9.37264 10.7728C9.87057 11.171 10.4902 11.6667 11.6643 11.6667C11.8916 11.6667 12.3998 11.6667 12.3998 11.6667L12.4196 11.5883L13.5432 7.09357C13.7217 6.37919 13.2874 5.65531 12.573 5.47671L12.3998 5.43341V2.86748C12.3998 2.51695 12.1527 2.21628 11.8102 2.14808L8.73317 1.53281V1.40008C8.73317 0.995073 8.40485 0.666748 7.99984 0.666748C7.59483 0.666748 7.2665 0.995072 7.2665 1.40008V1.53281L4.18944 2.14808C3.84697 2.21628 3.59984 2.51695 3.59984 2.86748V5.43341ZM5.0665 3.46735L7.99984 2.88068L10.9332 3.46735V5.06675L7.99984 4.33341L5.0665 5.06675V3.46735Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading">Port From: </span>
                      <span class="trackinfodetails"> {{jd.Port_From}} </span>
                    </div>

                    <div class=" col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="16" height="16"
                        viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M11.6643 13.8667C11.005 13.8667 10.7198 13.6387 10.2886 13.294C9.7899 12.8958 9.17024 12.4001 7.99544 12.4001C6.82137 12.4001 6.2017 12.8958 5.70377 13.2947C5.2733 13.6387 4.98877 13.8667 4.3295 13.8667C3.6717 13.8667 3.38717 13.6387 2.9567 13.2947C2.56217 12.9787 2.09213 12.6018 1.3299 12.4589C0.96801 12.3911 0.666504 12.6986 0.666504 13.0667V13.2001C0.666504 13.5683 0.976752 13.842 1.32088 13.9729C1.5814 14.0721 1.78513 14.2351 2.04004 14.4387C2.53797 14.8377 3.1569 15.3334 4.3295 15.3334C5.50357 15.3334 6.1225 14.8377 6.62044 14.4395C7.05164 14.0948 7.33617 13.8667 7.99544 13.8667C8.65544 13.8667 8.95684 14.1073 9.37264 14.4395C9.87057 14.8377 10.4902 15.3334 11.6643 15.3334C12.8384 15.3334 13.458 14.8377 13.956 14.4395C14.2042 14.2412 14.4116 14.0755 14.679 13.9742C15.0232 13.8437 15.3332 13.5683 15.3332 13.2001V13.0667C15.3332 12.6986 15.0317 12.3911 14.6698 12.4588C13.9065 12.6016 13.4352 12.9784 13.04 13.294C12.6088 13.6387 12.3236 13.8667 11.6643 13.8667ZM3.59984 5.43341L3.42669 5.4767C2.7123 5.6553 2.27795 6.37921 2.45655 7.0936L3.59984 11.6667C3.59984 11.6667 4.10437 11.6667 4.3295 11.6667C5.50357 11.6667 6.1225 11.171 6.62044 10.7728C7.05164 10.4281 7.33617 10.2001 7.99544 10.2001C8.65544 10.2001 8.95684 10.4406 9.37264 10.7728C9.87057 11.171 10.4902 11.6667 11.6643 11.6667C11.8916 11.6667 12.3998 11.6667 12.3998 11.6667L12.4196 11.5883L13.5432 7.09357C13.7217 6.37919 13.2874 5.65531 12.573 5.47671L12.3998 5.43341V2.86748C12.3998 2.51695 12.1527 2.21628 11.8102 2.14808L8.73317 1.53281V1.40008C8.73317 0.995073 8.40485 0.666748 7.99984 0.666748C7.59483 0.666748 7.2665 0.995072 7.2665 1.40008V1.53281L4.18944 2.14808C3.84697 2.21628 3.59984 2.51695 3.59984 2.86748V5.43341ZM5.0665 3.46735L7.99984 2.88068L10.9332 3.46735V5.06675L7.99984 4.33341L5.0665 5.06675V3.46735Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> Port To: </span>
                      <span class="trackinfodetails"> {{jd.Port_To}} </span>
                    </div>

                    <div class=" col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="12" height="14"
                        viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M8.66667 0.333274C8.99483 0.333504 9.33202 0.552479 9.33267 0.845665L9.33333 1.67344C11.1698 1.81737 11.9908 2.74072 11.9928 4.65976L12 10.2769C12.0026 12.3692 10.6882 13.6566 8.58121 13.6599L3.4346 13.6666C1.3408 13.6692 0.00988388 12.3512 0.00725101 10.253L6.17086e-06 4.70174C-0.00262227 2.77004 0.834343 1.85002 2.67077 1.68144L2.67011 0.853662C2.66946 0.560476 3.0041 0.33369 3.33332 0.333253C3.66267 0.332816 3.99735 0.559143 3.99801 0.85233L3.99867 1.64679L8 1.64146L7.99934 0.846998C7.99868 0.553811 8.33778 0.333044 8.66667 0.333274ZM8.00133 2.99463L4 2.99996L4.00066 3.82555C4.00066 4.11274 3.6608 4.33481 3.33334 4.33329C3.00828 4.33178 2.67276 4.11407 2.67276 3.82688L2.6721 2.99463C2 2.99996 1.33331 3.33329 1.33331 4.7004V6.33329H10.6666V4.6666C10.6666 3.33329 10 2.99463 9.34 2.99996L9.33532 3.81953C9.33532 4.10605 8.99871 4.33227 8.67063 4.33329C8.34165 4.33432 8.00199 4.10739 8.00199 3.82086L8.00133 2.99463ZM2.66667 9.66663C2.66667 10.0348 2.96514 10.3333 3.33333 10.3333C3.70152 10.3333 4 10.0348 4 9.66663C4 9.29844 3.70152 8.99996 3.33333 8.99996C2.96514 8.99996 2.66667 9.29844 2.66667 9.66663ZM6.66667 9.66663C6.66667 9.29844 6.96514 8.99996 7.33333 8.99996H8.66667C9.03486 8.99996 9.33333 9.29844 9.33333 9.66663C9.33333 10.0348 9.03486 10.3333 8.66667 10.3333H7.33333C6.96514 10.3333 6.66667 10.0348 6.66667 9.66663Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> ATD: </span>
                      <span class="trackinfodetails">{{jd.ATD}} </span>
                    </div>

                    <div class=" col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="12" height="14"
                        viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M8.66667 0.333274C8.99483 0.333504 9.33202 0.552479 9.33267 0.845665L9.33333 1.67344C11.1698 1.81737 11.9908 2.74072 11.9928 4.65976L12 10.2769C12.0026 12.3692 10.6882 13.6566 8.58121 13.6599L3.4346 13.6666C1.3408 13.6692 0.00988388 12.3512 0.00725101 10.253L6.17086e-06 4.70174C-0.00262227 2.77004 0.834343 1.85002 2.67077 1.68144L2.67011 0.853662C2.66946 0.560476 3.0041 0.33369 3.33332 0.333253C3.66267 0.332816 3.99735 0.559143 3.99801 0.85233L3.99867 1.64679L8 1.64146L7.99934 0.846998C7.99868 0.553811 8.33778 0.333044 8.66667 0.333274ZM8.00133 2.99463L4 2.99996L4.00066 3.82555C4.00066 4.11274 3.6608 4.33481 3.33334 4.33329C3.00828 4.33178 2.67276 4.11407 2.67276 3.82688L2.6721 2.99463C2 2.99996 1.33331 3.33329 1.33331 4.7004V6.33329H10.6666V4.6666C10.6666 3.33329 10 2.99463 9.34 2.99996L9.33532 3.81953C9.33532 4.10605 8.99871 4.33227 8.67063 4.33329C8.34165 4.33432 8.00199 4.10739 8.00199 3.82086L8.00133 2.99463ZM2.66667 9.66663C2.66667 10.0348 2.96514 10.3333 3.33333 10.3333C3.70152 10.3333 4 10.0348 4 9.66663C4 9.29844 3.70152 8.99996 3.33333 8.99996C2.96514 8.99996 2.66667 9.29844 2.66667 9.66663ZM6.66667 9.66663C6.66667 9.29844 6.96514 8.99996 7.33333 8.99996H8.66667C9.03486 8.99996 9.33333 9.29844 9.33333 9.66663C9.33333 10.0348 9.03486 10.3333 8.66667 10.3333H7.33333C6.96514 10.3333 6.66667 10.0348 6.66667 9.66663Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> ETA: </span>
                      <span class="trackinfodetails">{{jd.ETA}} </span>
                    </div>

                  </div>
                  <div class="row">
                    <div class="col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="16" height="14"
                        viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M2.99984 5.66658C2.99984 5.66658 5.33317 4.21204 5.33317 2.51507C5.33317 1.93642 5.08734 1.38146 4.64975 0.972292C4.21217 0.563121 3.61868 0.333252 2.99984 0.333252C2.381 0.333252 1.78751 0.563121 1.34992 0.972292C0.912337 1.38146 0.666504 1.93642 0.666504 2.51507C0.666504 4.21204 2.99984 5.66658 2.99984 5.66658ZM5.85123 4.25779C5.87964 4.20184 5.93708 4.16658 5.99984 4.16658H7.6665C9.04522 4.16658 10.1665 5.28787 10.1665 6.66658C10.1665 8.0453 9.04522 9.16658 7.6665 9.16658H4.99984C4.17255 9.16658 3.49984 9.8393 3.49984 10.6666C3.49984 11.4939 4.17255 12.1666 4.99984 12.1666H9.99984C10.0626 12.1666 10.12 12.2018 10.1484 12.2578L10.1487 12.2584L10.1502 12.2612L10.1565 12.2732C10.1622 12.284 10.1707 12.2999 10.1819 12.3199C10.2041 12.36 10.2365 12.4163 10.2767 12.4804C10.3582 12.6103 10.4671 12.7649 10.5844 12.8821C10.7043 13.002 10.9112 13.1619 11.0956 13.2962C11.1863 13.3622 11.2691 13.4204 11.3292 13.462C11.3593 13.4828 11.3836 13.4994 11.4003 13.5108L11.4195 13.5238L11.4256 13.5279C11.4866 13.5688 11.514 13.6449 11.4926 13.7151C11.4713 13.7853 11.4065 13.8333 11.3332 13.8333H4.99984C3.25379 13.8333 1.83317 12.4126 1.83317 10.6666C1.83317 8.92054 3.25379 7.49992 4.99984 7.49992H7.6665C8.12579 7.49992 8.49984 7.12587 8.49984 6.66658C8.49984 6.2073 8.12579 5.83325 7.6665 5.83325H4.6665C4.59313 5.83325 4.52839 5.78527 4.50705 5.71507C4.4857 5.64488 4.51277 5.56898 4.57372 5.52813L4.57525 5.5271L4.58015 5.5238L4.59935 5.51079C4.6161 5.4994 4.64042 5.48278 4.67045 5.46199C4.73057 5.42038 4.81336 5.36225 4.90407 5.29617C5.08843 5.16188 5.29538 5.002 5.41532 4.88207C5.53253 4.76485 5.64145 4.61033 5.72294 4.4804C5.76314 4.41631 5.79555 4.36 5.81782 4.3199C5.82894 4.29987 5.83749 4.28397 5.84316 4.27325L5.84947 4.26121L5.85123 4.25779ZM15.3332 10.5151C15.3332 12.212 12.9998 13.6666 12.9998 13.6666C12.9998 13.6666 10.6665 12.212 10.6665 10.5151C10.6665 9.93642 10.9123 9.38146 11.3499 8.97229C11.7875 8.56312 12.381 8.33325 12.9998 8.33325C13.6187 8.33325 14.2122 8.56312 14.6498 8.97229C15.0873 9.38146 15.3332 9.93642 15.3332 10.5151Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> Distance: </span>
                      <span class="trackinfodetails">{{jd.Distance}} </span>
                    </div>

                    <div class="col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="14" height="14"
                        viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M7.00016 0.333496C10.6868 0.333496 13.6668 3.32016 13.6668 7.00016C13.6668 10.6868 10.6868 13.6668 7.00016 13.6668C3.32016 13.6668 0.333496 10.6868 0.333496 7.00016C0.333496 3.32016 3.32016 0.333496 7.00016 0.333496ZM6.76683 3.62016C6.4935 3.62016 6.26683 3.84016 6.26683 4.12016V7.48683C6.26683 7.66016 6.36016 7.82016 6.5135 7.9135L9.12683 9.4735C9.20683 9.52016 9.2935 9.54683 9.38683 9.54683C9.5535 9.54683 9.72016 9.46016 9.8135 9.30016C9.9535 9.06683 9.88016 8.76016 9.64016 8.6135L7.26683 7.20016V4.12016C7.26683 3.84016 7.04016 3.62016 6.76683 3.62016Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> Days on sea: </span>
                      <span class="trackinfodetails">{{jd.Days_on_sea}} </span>

                    </div>

                    <div class="col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="16" height="16"
                        viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M8.00016 0.333252C7.55755 0.333252 7.19874 0.692059 7.19874 1.13467V1.63106C4.29454 1.99291 1.99315 4.2943 1.6313 7.1985H1.13491C0.692303 7.1985 0.333496 7.55731 0.333496 7.99992C0.333496 8.44253 0.692303 8.80134 1.13491 8.80134H1.6313C1.99315 11.7055 4.29454 14.0069 7.19874 14.3688V14.8652C7.19874 15.3078 7.55755 15.6666 8.00016 15.6666C8.44277 15.6666 8.80158 15.3078 8.80158 14.8652V14.3688C11.7058 14.0069 14.0072 11.7055 14.369 8.80134H14.8654C15.308 8.80134 15.6668 8.44253 15.6668 7.99992C15.6668 7.55731 15.308 7.1985 14.8654 7.1985H14.369C14.0072 4.29429 11.7058 1.99291 8.80158 1.63106V1.13467C8.80158 0.692059 8.44277 0.333252 8.00016 0.333252ZM4.25548 7.1985H3.2509C3.58874 5.18118 5.18143 3.58849 7.19874 3.25066V4.25524C7.19874 4.69785 7.55755 5.05666 8.00016 5.05666C8.44277 5.05666 8.80158 4.69785 8.80158 4.25524V3.25066C10.8189 3.58849 12.4116 5.18118 12.7494 7.1985H11.7448C11.3022 7.1985 10.9434 7.55731 10.9434 7.99992C10.9434 8.44253 11.3022 8.80134 11.7448 8.80134H12.7494C12.4116 10.8187 10.8189 12.4113 8.80158 12.7492V11.7446C8.80158 11.302 8.44277 10.9432 8.00016 10.9432C7.55755 10.9432 7.19874 11.302 7.19874 11.7446V12.7492C5.18143 12.4113 3.58874 10.8187 3.2509 8.80134H4.25548C4.69809 8.80134 5.0569 8.44253 5.0569 7.99992C5.0569 7.55731 4.69809 7.1985 4.25548 7.1985Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> AIS Transmissions: </span>
                      <span class="trackinfodetails">{{jd.AIS_transmission}} </span>
                    </div>

                    <div class="col-sm-3 trackinfoheading">
                      <span class="trackinfoheading">Show Trajectory </span>
                      <img width="30px" class="img-vertical-align-sub showSoiTrajectory" src={{jd.src}} value={{jd.value}}
                        id={{t.MMSI}}_{{jd.traj_id}} (click)='showTracjectory(t.MMSI,jd.traj_id)' />
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-sm-9"></div>
                    <div class="col-sm-3 trackinfoheading">
                      <span class="trackinfoheading">Show All Points </span>
                      <img width="30px" class="img-vertical-align-sub showPointsForTrackTraj" src={{jd.src_points}} value={{jd.value_points}}
                        id={{t.MMSI}}_{{jd.traj_id}}_points (click)='showPointsForTrackTraj(t.MMSI,jd.traj_id)' />                    
                    </div>
                  </div>
                </mat-card-content>
              </div>
              <br>
            </mat-card>

            <mat-card class="example-card" *ngFor="let g of goitrackdetails">
              <div class="row">
                <div class="col-sm-8">
                  <h3 style="font-family: CharlieText-Bold;"><b>Group Name: {{g.group_name}}</b></h3>
                </div>
                <div class="col-sm-4">
                  <h3 *ngIf= 'g.traj_data_length !== 0'> 
                    <b><a style="color: white !important;" (click)="playHistoryForGroup(g.traj_data, 'track')">
                    <img style="margin-top: -5px;margin-right: 5px;" src="../../../assets/soi/Play.svg" />
                    <span class="roipannelsubheader">Play history</span>
                   </a></b>
                </h3>
                </div>
              </div>
              <div style="max-height: 200px; overflow-y: auto" class='scroll'>
                <mat-card-content *ngIf= 'g.traj_data_length === 0' id="trackinfo-content">
                  <div class="row">
                    <div class="col-sm-12">
                      <span class="trackinfoheading">No ships in selected group</span>
                    </div>
                  </div>
                </mat-card-content>
              <div *ngFor="let gd of g.traj_data">
              <div *ngIf="gd.display === true">
              <mat-card class="goitrack" style="margin:10px;" >
                
                <div id="trackinfo-header" class="row">
                  <div class="col-sm-5" style="font-size: 16px;"><img class="img-vertical-align-baseline"
                      src="../../../assets/soi/ship.svg" /> {{gd.Ship_name }} ({{gd.MMSI}})
                  </div>
                  <div class="col-sm-3" style="font-size: 14px;"><svg class="img-verical-text-top"
                      id="imageColors" width="16" height="16" viewBox="0 0 16 16" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.6668 6.7878C13.6668 11.0302 8.00016 14.6666 8.00016 14.6666C8.00016 14.6666 2.3335 11.0302 2.3335 6.7878C2.3335 5.34116 2.93052 3.95378 3.99322 2.93085C5.05593 1.90793 6.49727 1.33325 8.00016 1.33325C9.50306 1.33325 10.9444 1.90793 12.0071 2.93085C13.0698 3.95378 13.6668 5.34116 13.6668 6.7878ZM10.7265 6.10455C10.9218 5.90922 10.9218 5.59322 10.7265 5.39788C10.5311 5.20255 10.2151 5.20255 10.0198 5.39788L7.20913 8.20788L5.97979 6.97988C5.78446 6.78455 5.46846 6.78455 5.27313 6.97988C5.07779 7.17522 5.07779 7.49122 5.27313 7.68655L6.85579 9.26855C6.95313 9.36655 7.08179 9.41522 7.20913 9.41522C7.33713 9.41522 7.46513 9.36655 7.56246 9.26855L10.7265 6.10455Z"
                        fill="" />
                    </svg>
                    <span class="trackinfoheading">Journeys Completed: </span>
                    <span class="trackinfodetails"> {{gd.Journeys_completed}}</span>
                  </div>
                  <div class="col-sm-3" style="font-size: 14px;">
                    <a *ngIf= 'gd.detailslength !== 0'  style="color: white !important;" (click)="playHistory(gd.MMSI, gd.traj_details)">
                    <img class="img-vertical-align"
                      src="../../../assets/soi/Play.svg" /> PLAY HISTORY  </a> </div>
                </div>
                

                <mat-card-content *ngIf= 'gd.detailslength === 0' id="trackinfo-content">
                  <div class="row">
                    <div class="col-sm-12">
                      <span class="trackinfoheading">No Track details</span>
                    </div>
                  </div>
                </mat-card-content>
                <div style="max-height: 200px; overflow-y: auto" class="scroll">
                <mat-card-content  *ngFor="let d of gd.traj_details" id="trackinfo-content">
                  <span class="trackinfoindex"> {{d.index}} / {{gd.Journeys_completed}} </span>
                  <span class="trackinfoheading"> Trajectory ID: </span>
                  <span class="trackinfodetails"> {{d.traj_id}} </span>


                  <div class="row" id="trackinfo-firstrow">
                    <div class="col-sm-3">

                      <svg id="imageColors" class="img-verical-text-top" width="16" height="16"
                        viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M11.6643 13.8667C11.005 13.8667 10.7198 13.6387 10.2886 13.294C9.7899 12.8958 9.17024 12.4001 7.99544 12.4001C6.82137 12.4001 6.2017 12.8958 5.70377 13.2947C5.2733 13.6387 4.98877 13.8667 4.3295 13.8667C3.6717 13.8667 3.38717 13.6387 2.9567 13.2947C2.56217 12.9787 2.09213 12.6018 1.3299 12.4589C0.96801 12.3911 0.666504 12.6986 0.666504 13.0667V13.2001C0.666504 13.5683 0.976752 13.842 1.32088 13.9729C1.5814 14.0721 1.78513 14.2351 2.04004 14.4387C2.53797 14.8377 3.1569 15.3334 4.3295 15.3334C5.50357 15.3334 6.1225 14.8377 6.62044 14.4395C7.05164 14.0948 7.33617 13.8667 7.99544 13.8667C8.65544 13.8667 8.95684 14.1073 9.37264 14.4395C9.87057 14.8377 10.4902 15.3334 11.6643 15.3334C12.8384 15.3334 13.458 14.8377 13.956 14.4395C14.2042 14.2412 14.4116 14.0755 14.679 13.9742C15.0232 13.8437 15.3332 13.5683 15.3332 13.2001V13.0667C15.3332 12.6986 15.0317 12.3911 14.6698 12.4588C13.9065 12.6016 13.4352 12.9784 13.04 13.294C12.6088 13.6387 12.3236 13.8667 11.6643 13.8667ZM3.59984 5.43341L3.42669 5.4767C2.7123 5.6553 2.27795 6.37921 2.45655 7.0936L3.59984 11.6667C3.59984 11.6667 4.10437 11.6667 4.3295 11.6667C5.50357 11.6667 6.1225 11.171 6.62044 10.7728C7.05164 10.4281 7.33617 10.2001 7.99544 10.2001C8.65544 10.2001 8.95684 10.4406 9.37264 10.7728C9.87057 11.171 10.4902 11.6667 11.6643 11.6667C11.8916 11.6667 12.3998 11.6667 12.3998 11.6667L12.4196 11.5883L13.5432 7.09357C13.7217 6.37919 13.2874 5.65531 12.573 5.47671L12.3998 5.43341V2.86748C12.3998 2.51695 12.1527 2.21628 11.8102 2.14808L8.73317 1.53281V1.40008C8.73317 0.995073 8.40485 0.666748 7.99984 0.666748C7.59483 0.666748 7.2665 0.995072 7.2665 1.40008V1.53281L4.18944 2.14808C3.84697 2.21628 3.59984 2.51695 3.59984 2.86748V5.43341ZM5.0665 3.46735L7.99984 2.88068L10.9332 3.46735V5.06675L7.99984 4.33341L5.0665 5.06675V3.46735Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading">Port From: </span>
                      <span class="trackinfodetails"> {{d.Port_From}} </span>
                    </div>

                    <div class=" col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="16" height="16"
                        viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M11.6643 13.8667C11.005 13.8667 10.7198 13.6387 10.2886 13.294C9.7899 12.8958 9.17024 12.4001 7.99544 12.4001C6.82137 12.4001 6.2017 12.8958 5.70377 13.2947C5.2733 13.6387 4.98877 13.8667 4.3295 13.8667C3.6717 13.8667 3.38717 13.6387 2.9567 13.2947C2.56217 12.9787 2.09213 12.6018 1.3299 12.4589C0.96801 12.3911 0.666504 12.6986 0.666504 13.0667V13.2001C0.666504 13.5683 0.976752 13.842 1.32088 13.9729C1.5814 14.0721 1.78513 14.2351 2.04004 14.4387C2.53797 14.8377 3.1569 15.3334 4.3295 15.3334C5.50357 15.3334 6.1225 14.8377 6.62044 14.4395C7.05164 14.0948 7.33617 13.8667 7.99544 13.8667C8.65544 13.8667 8.95684 14.1073 9.37264 14.4395C9.87057 14.8377 10.4902 15.3334 11.6643 15.3334C12.8384 15.3334 13.458 14.8377 13.956 14.4395C14.2042 14.2412 14.4116 14.0755 14.679 13.9742C15.0232 13.8437 15.3332 13.5683 15.3332 13.2001V13.0667C15.3332 12.6986 15.0317 12.3911 14.6698 12.4588C13.9065 12.6016 13.4352 12.9784 13.04 13.294C12.6088 13.6387 12.3236 13.8667 11.6643 13.8667ZM3.59984 5.43341L3.42669 5.4767C2.7123 5.6553 2.27795 6.37921 2.45655 7.0936L3.59984 11.6667C3.59984 11.6667 4.10437 11.6667 4.3295 11.6667C5.50357 11.6667 6.1225 11.171 6.62044 10.7728C7.05164 10.4281 7.33617 10.2001 7.99544 10.2001C8.65544 10.2001 8.95684 10.4406 9.37264 10.7728C9.87057 11.171 10.4902 11.6667 11.6643 11.6667C11.8916 11.6667 12.3998 11.6667 12.3998 11.6667L12.4196 11.5883L13.5432 7.09357C13.7217 6.37919 13.2874 5.65531 12.573 5.47671L12.3998 5.43341V2.86748C12.3998 2.51695 12.1527 2.21628 11.8102 2.14808L8.73317 1.53281V1.40008C8.73317 0.995073 8.40485 0.666748 7.99984 0.666748C7.59483 0.666748 7.2665 0.995072 7.2665 1.40008V1.53281L4.18944 2.14808C3.84697 2.21628 3.59984 2.51695 3.59984 2.86748V5.43341ZM5.0665 3.46735L7.99984 2.88068L10.9332 3.46735V5.06675L7.99984 4.33341L5.0665 5.06675V3.46735Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> Port To: </span>
                      <span class="trackinfodetails"> {{d.Port_To}} </span>
                    </div>

                    <div class=" col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="12" height="14"
                        viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M8.66667 0.333274C8.99483 0.333504 9.33202 0.552479 9.33267 0.845665L9.33333 1.67344C11.1698 1.81737 11.9908 2.74072 11.9928 4.65976L12 10.2769C12.0026 12.3692 10.6882 13.6566 8.58121 13.6599L3.4346 13.6666C1.3408 13.6692 0.00988388 12.3512 0.00725101 10.253L6.17086e-06 4.70174C-0.00262227 2.77004 0.834343 1.85002 2.67077 1.68144L2.67011 0.853662C2.66946 0.560476 3.0041 0.33369 3.33332 0.333253C3.66267 0.332816 3.99735 0.559143 3.99801 0.85233L3.99867 1.64679L8 1.64146L7.99934 0.846998C7.99868 0.553811 8.33778 0.333044 8.66667 0.333274ZM8.00133 2.99463L4 2.99996L4.00066 3.82555C4.00066 4.11274 3.6608 4.33481 3.33334 4.33329C3.00828 4.33178 2.67276 4.11407 2.67276 3.82688L2.6721 2.99463C2 2.99996 1.33331 3.33329 1.33331 4.7004V6.33329H10.6666V4.6666C10.6666 3.33329 10 2.99463 9.34 2.99996L9.33532 3.81953C9.33532 4.10605 8.99871 4.33227 8.67063 4.33329C8.34165 4.33432 8.00199 4.10739 8.00199 3.82086L8.00133 2.99463ZM2.66667 9.66663C2.66667 10.0348 2.96514 10.3333 3.33333 10.3333C3.70152 10.3333 4 10.0348 4 9.66663C4 9.29844 3.70152 8.99996 3.33333 8.99996C2.96514 8.99996 2.66667 9.29844 2.66667 9.66663ZM6.66667 9.66663C6.66667 9.29844 6.96514 8.99996 7.33333 8.99996H8.66667C9.03486 8.99996 9.33333 9.29844 9.33333 9.66663C9.33333 10.0348 9.03486 10.3333 8.66667 10.3333H7.33333C6.96514 10.3333 6.66667 10.0348 6.66667 9.66663Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> ATD: </span>
                      <span class="trackinfodetails">{{d.ATD}} </span>
                    </div>

                    <div class=" col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="12" height="14"
                        viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M8.66667 0.333274C8.99483 0.333504 9.33202 0.552479 9.33267 0.845665L9.33333 1.67344C11.1698 1.81737 11.9908 2.74072 11.9928 4.65976L12 10.2769C12.0026 12.3692 10.6882 13.6566 8.58121 13.6599L3.4346 13.6666C1.3408 13.6692 0.00988388 12.3512 0.00725101 10.253L6.17086e-06 4.70174C-0.00262227 2.77004 0.834343 1.85002 2.67077 1.68144L2.67011 0.853662C2.66946 0.560476 3.0041 0.33369 3.33332 0.333253C3.66267 0.332816 3.99735 0.559143 3.99801 0.85233L3.99867 1.64679L8 1.64146L7.99934 0.846998C7.99868 0.553811 8.33778 0.333044 8.66667 0.333274ZM8.00133 2.99463L4 2.99996L4.00066 3.82555C4.00066 4.11274 3.6608 4.33481 3.33334 4.33329C3.00828 4.33178 2.67276 4.11407 2.67276 3.82688L2.6721 2.99463C2 2.99996 1.33331 3.33329 1.33331 4.7004V6.33329H10.6666V4.6666C10.6666 3.33329 10 2.99463 9.34 2.99996L9.33532 3.81953C9.33532 4.10605 8.99871 4.33227 8.67063 4.33329C8.34165 4.33432 8.00199 4.10739 8.00199 3.82086L8.00133 2.99463ZM2.66667 9.66663C2.66667 10.0348 2.96514 10.3333 3.33333 10.3333C3.70152 10.3333 4 10.0348 4 9.66663C4 9.29844 3.70152 8.99996 3.33333 8.99996C2.96514 8.99996 2.66667 9.29844 2.66667 9.66663ZM6.66667 9.66663C6.66667 9.29844 6.96514 8.99996 7.33333 8.99996H8.66667C9.03486 8.99996 9.33333 9.29844 9.33333 9.66663C9.33333 10.0348 9.03486 10.3333 8.66667 10.3333H7.33333C6.96514 10.3333 6.66667 10.0348 6.66667 9.66663Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> ETA: </span>
                      <span class="trackinfodetails">{{d.ETA}} </span>
                    </div>

                  </div>


                  <div class="row">
                    <div class="col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="16" height="14"
                        viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M2.99984 5.66658C2.99984 5.66658 5.33317 4.21204 5.33317 2.51507C5.33317 1.93642 5.08734 1.38146 4.64975 0.972292C4.21217 0.563121 3.61868 0.333252 2.99984 0.333252C2.381 0.333252 1.78751 0.563121 1.34992 0.972292C0.912337 1.38146 0.666504 1.93642 0.666504 2.51507C0.666504 4.21204 2.99984 5.66658 2.99984 5.66658ZM5.85123 4.25779C5.87964 4.20184 5.93708 4.16658 5.99984 4.16658H7.6665C9.04522 4.16658 10.1665 5.28787 10.1665 6.66658C10.1665 8.0453 9.04522 9.16658 7.6665 9.16658H4.99984C4.17255 9.16658 3.49984 9.8393 3.49984 10.6666C3.49984 11.4939 4.17255 12.1666 4.99984 12.1666H9.99984C10.0626 12.1666 10.12 12.2018 10.1484 12.2578L10.1487 12.2584L10.1502 12.2612L10.1565 12.2732C10.1622 12.284 10.1707 12.2999 10.1819 12.3199C10.2041 12.36 10.2365 12.4163 10.2767 12.4804C10.3582 12.6103 10.4671 12.7649 10.5844 12.8821C10.7043 13.002 10.9112 13.1619 11.0956 13.2962C11.1863 13.3622 11.2691 13.4204 11.3292 13.462C11.3593 13.4828 11.3836 13.4994 11.4003 13.5108L11.4195 13.5238L11.4256 13.5279C11.4866 13.5688 11.514 13.6449 11.4926 13.7151C11.4713 13.7853 11.4065 13.8333 11.3332 13.8333H4.99984C3.25379 13.8333 1.83317 12.4126 1.83317 10.6666C1.83317 8.92054 3.25379 7.49992 4.99984 7.49992H7.6665C8.12579 7.49992 8.49984 7.12587 8.49984 6.66658C8.49984 6.2073 8.12579 5.83325 7.6665 5.83325H4.6665C4.59313 5.83325 4.52839 5.78527 4.50705 5.71507C4.4857 5.64488 4.51277 5.56898 4.57372 5.52813L4.57525 5.5271L4.58015 5.5238L4.59935 5.51079C4.6161 5.4994 4.64042 5.48278 4.67045 5.46199C4.73057 5.42038 4.81336 5.36225 4.90407 5.29617C5.08843 5.16188 5.29538 5.002 5.41532 4.88207C5.53253 4.76485 5.64145 4.61033 5.72294 4.4804C5.76314 4.41631 5.79555 4.36 5.81782 4.3199C5.82894 4.29987 5.83749 4.28397 5.84316 4.27325L5.84947 4.26121L5.85123 4.25779ZM15.3332 10.5151C15.3332 12.212 12.9998 13.6666 12.9998 13.6666C12.9998 13.6666 10.6665 12.212 10.6665 10.5151C10.6665 9.93642 10.9123 9.38146 11.3499 8.97229C11.7875 8.56312 12.381 8.33325 12.9998 8.33325C13.6187 8.33325 14.2122 8.56312 14.6498 8.97229C15.0873 9.38146 15.3332 9.93642 15.3332 10.5151Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> Distance: </span>
                      <span class="trackinfodetails">{{d.Distance}} </span>
                    </div>

                    <div class="col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="14" height="14"
                        viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M7.00016 0.333496C10.6868 0.333496 13.6668 3.32016 13.6668 7.00016C13.6668 10.6868 10.6868 13.6668 7.00016 13.6668C3.32016 13.6668 0.333496 10.6868 0.333496 7.00016C0.333496 3.32016 3.32016 0.333496 7.00016 0.333496ZM6.76683 3.62016C6.4935 3.62016 6.26683 3.84016 6.26683 4.12016V7.48683C6.26683 7.66016 6.36016 7.82016 6.5135 7.9135L9.12683 9.4735C9.20683 9.52016 9.2935 9.54683 9.38683 9.54683C9.5535 9.54683 9.72016 9.46016 9.8135 9.30016C9.9535 9.06683 9.88016 8.76016 9.64016 8.6135L7.26683 7.20016V4.12016C7.26683 3.84016 7.04016 3.62016 6.76683 3.62016Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> Days on sea: </span>
                      <span class="trackinfodetails">{{d.Days_on_sea}} </span>

                    </div>

                    <div class="col-sm-3">
                      <svg id="imageColors" class="img-verical-text-top" width="16" height="16"
                        viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M8.00016 0.333252C7.55755 0.333252 7.19874 0.692059 7.19874 1.13467V1.63106C4.29454 1.99291 1.99315 4.2943 1.6313 7.1985H1.13491C0.692303 7.1985 0.333496 7.55731 0.333496 7.99992C0.333496 8.44253 0.692303 8.80134 1.13491 8.80134H1.6313C1.99315 11.7055 4.29454 14.0069 7.19874 14.3688V14.8652C7.19874 15.3078 7.55755 15.6666 8.00016 15.6666C8.44277 15.6666 8.80158 15.3078 8.80158 14.8652V14.3688C11.7058 14.0069 14.0072 11.7055 14.369 8.80134H14.8654C15.308 8.80134 15.6668 8.44253 15.6668 7.99992C15.6668 7.55731 15.308 7.1985 14.8654 7.1985H14.369C14.0072 4.29429 11.7058 1.99291 8.80158 1.63106V1.13467C8.80158 0.692059 8.44277 0.333252 8.00016 0.333252ZM4.25548 7.1985H3.2509C3.58874 5.18118 5.18143 3.58849 7.19874 3.25066V4.25524C7.19874 4.69785 7.55755 5.05666 8.00016 5.05666C8.44277 5.05666 8.80158 4.69785 8.80158 4.25524V3.25066C10.8189 3.58849 12.4116 5.18118 12.7494 7.1985H11.7448C11.3022 7.1985 10.9434 7.55731 10.9434 7.99992C10.9434 8.44253 11.3022 8.80134 11.7448 8.80134H12.7494C12.4116 10.8187 10.8189 12.4113 8.80158 12.7492V11.7446C8.80158 11.302 8.44277 10.9432 8.00016 10.9432C7.55755 10.9432 7.19874 11.302 7.19874 11.7446V12.7492C5.18143 12.4113 3.58874 10.8187 3.2509 8.80134H4.25548C4.69809 8.80134 5.0569 8.44253 5.0569 7.99992C5.0569 7.55731 4.69809 7.1985 4.25548 7.1985Z"
                          fill="" />
                      </svg>
                      <span class="trackinfoheading"> AIS Transmissions: </span>
                      <span class="trackinfodetails">{{d.AIS_transmission}} </span>
                    </div>

                    <div class="col-sm-3 trackinfoheading">
                      <span class="trackinfoheading">Show Trajectory </span>
                      <img width="30px" class="img-vertical-align-sub showgoiTrajectory" src={{d.src}} value={{d.value}}
                        id={{g.group_name}}_{{gd.MMSI}}_{{d.traj_id}} (click)='showTracjectoryForGroup(g.group_name,gd.MMSI,d.traj_id)' />
                    </div>
                  </div>
                </mat-card-content>
                </div>                       
              </mat-card>
              </div>
              </div>
            </div>
            </mat-card>
          </div>
        </div>
        <div id="anomalyinfo" class="container tab-pane fade anomalyinfo">
          <div class="row">
            <ul class="nav nav-pills" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" data-toggle="pill" href="#pathdeviation">Path Deviation</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="pill" href="#destinationdeviation">Destination
                  Deviation</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="pill" href="#shiptypedeviation"
                  >Ship Type Deviation</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="pill" href="#choiceofanchorage"
                  >Choice of Anchorage</a>
              </li>
            </ul>
          </div>
          <div class="tab-content scroll" style="max-height: 350px; overflow-y: auto; overflow-x: hidden;">
            <div id="pathdeviation" class="container tab-pane active">
              <mat-card class="example-card">
                Under Development
              </mat-card>
            </div>
            <div id="destinationdeviation" class="container tab-pane fade ">
              <mat-card class="example-card">
                Under Development
              </mat-card>
            </div>
            <div id="shiptypedeviation" class="container tab-pane fade ">
              <div class="trackinfopanel">
                <mat-card class="example-card" *ngFor="let c of soishiptypedeviation">
                  <div id="trackinfo-header" class="row">
                    <div class="col-sm-8" style="font-size: 16px;">
                      <img class="img-vertical-align-baseline" src="../../../assets/soi/ship.svg" />
                      <span style="margin-right: 25px;"> {{c.Ship_name}} ({{c.mmsi}}) <img
                          class="img-vertical-align-baseline" style="margin-left:10px" height="15"
                          src="../../../assets/soi/login-image.svg" /> {{c.sc}}</span>
                    </div>
                    <div class="col-sm-4" >
                      <a *ngIf= 'c.detailslength !== 0' style="color: white !important;" (click)="playHistory(c.mmsi, c.type_anomalies)" >
                        <img  src="../../../assets/soi/Play.svg" />
                        <span class="roipannelsubheader">Play history</span>
                      </a>
                    </div>
                  </div>
                  <div style="max-height: 200px; overflow-y: auto" class="scroll">
                    <mat-card-content *ngIf= 'c.detailslength === 0' id="trackinfo-content">
                      <div class="row">
                        <div class="col-sm-12">
                          <span class="trackinfoheading"> No Ship Type Anomaly </span>
                        </div>
                      </div>
                    </mat-card-content>
                    <mat-card-content *ngFor="let d of c.type_anomalies" id="trackinfo-content">
                      <div class="row">
                        <div class="col-sm-8">
                          <span class="trackinfoindex"> {{d.index}} </span>
                          <span class="trackinfoheading">Trajectory ID: </span>
                          <span class="trackinfodetails"> {{d.tj}}</span>
                        </div>
                        <div class="col-sm-4 padding-lr-0" style="font-size: 16px;font-family: Charlie Text;">
                          <span style="margin-right: 25px;" class="trackinfoheading"> Show Trajectory
                            <img width="30px" class="img-vertical-align-sub" src={{d.src}} value={{d.value}}
                              id={{c.mmsi}}_{{d.tj}}_shiptypedeviation
                              (click)='showShiptypeDeviationTracjectory(c.mmsi,d.tj)' />
                          </span>
                        </div>
                      </div>
                      <mat-card-content id="trackinfo-subcontent" style="min-height: 7em;">
                        <div id={{c.mmsi}}_{{d.tj}}_shiptypedeviation_anomaly_Linegraph>
                          <div style="height: 10px;background-color: black;position: relative;">
                            <span style="top:-5px;position:absolute;left:0">
                              <img height=20 src="../../assets/anomaly/dot-circle.svg" alt="start"/> </span>
                            <!-- anomaly -->
                              <a *ngFor="let a of d.an" matTooltip={{a.message}} style="top:-5px;position:absolute;" [ngStyle]="{'left.%' : + a.percentage}"> 
                                        <img height=20 src="../../assets/anomaly/alert.svg" alt="anomaly"/></a>
                            <span style="top:-5px;position:absolute;right:0">
                              <img height=20 src="../../assets/anomaly/dot-circle.svg" alt="end"/> </span>
                              <p style="top:10px;position:absolute;left:0;font-family: CharlieText-Bold;">{{d.sp}}<br> 
                                <span style="font-size:10px">ATD: {{d.ATD}}</span> </p>

                              <p style="top:10px;position:absolute;right:0;font-family: CharlieText-Bold;text-align: right">
                                  {{d.ep}} <br> <span style="font-size:10px">ETA: {{d.ETA}}</span></p>
                          </div>
                        </div>
                      </mat-card-content>
                    </mat-card-content>
                  </div>
                </mat-card>

                <mat-card class="example-card" *ngFor="let g of goishiptypedeviation">
                  <div class="row">
                    <div class="col-sm-8">
                      <h3 style="font-family: CharlieText-Bold;"><b>Group Name: {{g.group_name}}</b></h3>
                    </div>
                    <div class="col-sm-4">
                      <h3 *ngIf= 'g.type_anomaly_length !== 0'> 
                        <b><a style="color: white !important;" (click)="playHistoryForGroup(g.type_anomaly, 'shiptype')">
                        <img style="margin-top: -5px;margin-right: 5px;" src="../../../assets/soi/Play.svg" />
                        <span class="roipannelsubheader">Play history</span>
                       </a></b>
                    </h3>
                    </div>
                  </div>
                  <div style="max-height: 200px; overflow-y: auto" class="scroll">
                    <mat-card-content *ngIf= 'g.type_anomaly_length === 0' id="trackinfo-content">
                      <div class="row">
                        <div class="col-sm-12">
                          <span class="trackinfoheading">No ships in selected group</span>
                        </div>
                      </div>
                    </mat-card-content>
                    <div *ngFor="let gd of g.type_anomaly">
                      <div *ngIf="gd.display === true">
                  <mat-card class="goitrack" style="margin:10px;" >
                    <div id="trackinfo-header" class="row">
                      <div class="col-sm-8 padding-lr-0" style="font-size: 16px;">
                        <img class="img-vertical-align-baseline" src="../../../assets/soi/ship.svg" />
                        <span style="margin-right: 25px;"> {{gd.Ship_name}} ({{gd.mmsi}})  <img
                            class="img-vertical-align-baseline" style="margin-left:10px" height="15"
                            src="../../../assets/soi/login-image.svg" /> {{gd.sc}}</span>
                      </div>
                      <div class="col-sm-4">
                        <a *ngIf= 'gd.detailslength !== 0' style="color: white !important;" (click)="playHistory(gd.mmsi, gd.type_anomalies)">
                          <img src="../../../assets/soi/Play.svg" />
                          <span class="roipannelsubheader">Play history</span>
                        </a>
                      </div>
                    </div>
                    <div style="max-height: 200px; overflow-y: auto" class="scroll">
                      <mat-card-content *ngIf= 'gd.detailslength === 0' id="trackinfo-content">
                        <div class="row">
                          <div class="col-sm-12">
                            <span class="trackinfoheading"> No Ship Type Anomaly </span>
                          </div>
                        </div>
                      </mat-card-content>
                      <mat-card-content *ngFor="let d of gd.type_anomalies" id="trackinfo-content">
                        <div class="row">
                          <div class="col-sm-8">
                            <span class="trackinfoindex"> {{d.index}} </span>
                            <span class="trackinfoheading">Trajectory ID: </span>
                            <span class="trackinfodetails"> {{d.tj}}</span>
                          </div>

                          <div class="col-sm-4 padding-lr-0" style="font-size: 16px;font-family: Charlie Text;">
                            <span style="margin-right: 25px;" class="trackinfoheading"> Show Trajectory
                              <img width="30px" class="img-vertical-align-sub" src={{d.src}} value={{d.value}}
                                id={{g.group_name}}_{{gd.mmsi}}_{{d.tj}}_goishiptypedeviation
                                (click)='showGoiShiptypeDeviationTracjectory(g.group_name,gd.mmsi,d.tj)' />
                            </span>
                          </div>
                        </div>
                        <mat-card-content id="trackinfo-subcontent" style="min-height: 7em;">
                          
                          <div id={{g.group_name}}_{{gd.mmsi}}_{{d.tj}}_goishiptypedeviation_anomaly_Linegraph>
                            <div style="height: 10px;background-color: black;position: relative;">
                              <span style="top:-5px;position:absolute;left:0">
                                <img height=20 src="../../assets/anomaly/dot-circle.svg" alt="start"/> </span>
                              <!-- anomaly -->
                                <a *ngFor="let a of d.an" matTooltip={{a.message}} style="top:-5px;position:absolute;" [ngStyle]="{'left.%' : + a.percentage}"> 
                                          <img height=20 src="../../assets/anomaly/alert.svg" alt="anomaly"/></a>
                              <span style="top:-5px;position:absolute;right:0">
                                <img height=20 src="../../assets/anomaly/dot-circle.svg" alt="end"/> </span>
                                <p style="top:10px;position:absolute;left:0;font-family: CharlieText-Bold;">{{d.sp}}<br> 
                                  <span style="font-size:10px">ATD: {{d.ATD}}</span> </p>
      
                                <p style="top:10px;position:absolute;right:0;font-family: CharlieText-Bold;text-align: right">
                                    {{d.ep}} <br> <span style="font-size:10px">ETA: {{d.ETA}}</span></p>
                            </div>
                          </div>
                        </mat-card-content>
                      </mat-card-content>
                    </div>
                  </mat-card>
                  </div>
                    </div>
                </div>
                </mat-card>
              </div>

            </div>
            <div id="choiceofanchorage" class="container tab-pane fade "><br>
              <div class="trackinfopanel">
                <mat-card class="example-card" *ngFor="let c of soianchoragedeviation">
                  <div id="trackinfo-header" class="row">
                    <div class="col-sm-8" style="font-size: 16px;">
                      <img class="img-vertical-align-baseline" src="../../../assets/soi/ship.svg" />
                      <span style="margin-right: 25px;"> {{c.Ship_name}} ({{c.mmsi}}) <img
                          class="img-vertical-align-baseline" style="margin-left:10px" height="15"
                          src="../../../assets/soi/login-image.svg" /> {{c.sc}}</span>
                    </div>
                    <div class="col-sm-4">
                      <a *ngIf= 'c.detailslength !== 0' style="color: white !important;" (click)="playHistory(c.mmsi, c.anch_anomalies)" style="margin-right: 25px;">
                        <img src="../../../assets/soi/Play.svg" />
                        <span class="roipannelsubheader">Play history</span>
                      </a>
                    </div>
                  </div>
                  <div style="max-height: 200px; overflow-y: auto" class="scroll">
                  <mat-card-content *ngIf= 'c.detailslength === 0' id="trackinfo-content">
                    <div class="row">
                      <div class="col-sm-12">
                        <span class="trackinfoheading"> No Anchorage Anomaly </span>
                      </div>
                    </div>
                  </mat-card-content>

                  <mat-card-content *ngFor="let d of c.anch_anomalies" id="trackinfo-content">
                    <div class="row">
                      <div class="col-sm-8">
                        <span class="trackinfoindex"> {{d.index}} </span>
                        <span class="trackinfoheading">Trajectory ID: </span>
                        <span class="trackinfodetails"> {{d.tj}}</span>
                      </div>
                      <div class="col-sm-4 padding-lr-0" style="font-size: 16px;font-family: Charlie Text;">
                        <span style="margin-right: 25px;" class="trackinfoheading"> Show Trajectory
                          <img width="30px" class="img-vertical-align-sub" src={{d.src}} value={{d.value}}
                            id={{c.mmsi}}_{{d.tj}}_anchorageanomaly
                            (click)='showAnchorageAnomalyTracjectory(c.mmsi,d.tj)' />
                        </span>
                      </div>
                    </div>

                    <mat-card-content id="trackinfo-subcontent" style="min-height: 7em;">
                      <div id={{c.mmsi}}_{{d.tj}}_anchorage_anomaly_Linegraph>
                        <div style="height: 10px;background-color: black;position: relative;">
                          <span style="top:-5px;position:absolute;left:0">
                            <img height=20 src="../../assets/anomaly/dot-circle.svg" alt="start"/> </span>
                          <!-- anomaly -->
                            <a *ngFor="let a of d.an" matTooltip={{a.message}} style="top:-5px;position:absolute;" [ngStyle]="{'left.%' : + a.percentage}"> 
                                      <img height=20 src="../../assets/anomaly/alert.svg" alt="anomaly"/></a>
                          <span style="top:-5px;position:absolute;right:0">
                            <img height=20 src="../../assets/anomaly/dot-circle.svg" alt="end"/> </span>
                            <p style="top:10px;position:absolute;left:0;font-family: CharlieText-Bold;">{{d.sp}}<br> 
                              <span style="font-size:10px">ATD: {{d.ATD}}</span> </p>

                            <p style="top:10px;position:absolute;right:0;font-family: CharlieText-Bold;text-align: right">
                                {{d.ep}} <br> <span style="font-size:10px">ETA: {{d.ETA}}</span></p>
                        </div>
                      </div>
                    </mat-card-content>
                  </mat-card-content>
                </div>
                </mat-card>


                <mat-card class="example-card" *ngFor="let g of goianchoragedeviation">
                  <div class="row">
                    <div class="col-sm-8">
                      <h3 style="font-family: CharlieText-Bold;"><b>Group Name: {{g.group_name}}</b></h3>
                    </div>
                    <div class="col-sm-4">
                      <h3 *ngIf= 'g.anch_anomaly_length !== 0'> 
                        <b><a style="color: white !important;" (click)="playHistoryForGroup(g.anch_anomaly, 'anchorage')">
                        <img style="margin-top: -5px;margin-right: 5px;" src="../../../assets/soi/Play.svg" />
                        <span class="roipannelsubheader">Play history</span>
                       </a></b>
                    </h3>
                    </div>
                  </div>

                  
                  <div style="max-height: 200px; overflow-y: auto" class="scroll">
                    <mat-card-content *ngIf= 'g.anch_anomaly_length === 0' id="trackinfo-content">
                      <div class="row">
                        <div class="col-sm-12">
                          <span class="trackinfoheading">No ships in selected group</span>
                        </div>
                      </div>
                    </mat-card-content>
                    <div *ngFor="let gd of g.anch_anomaly">
                      <div *ngIf="gd.display === true">
                  <mat-card class="goitrack" style="margin:10px;" >
                    <div id="trackinfo-header" class="row">
                      <div class="col-sm-8 padding-lr-0" style="font-size: 16px;">
                        <img class="img-vertical-align-baseline" src="../../../assets/soi/ship.svg" />
                        <span style="margin-right: 25px;"> {{gd.Ship_name}} ({{gd.mmsi}})  <img
                            class="img-vertical-align-baseline" style="margin-left:10px" height="15"
                            src="../../../assets/soi/login-image.svg" /> {{gd.sc}}</span>
                      </div>
                      <div class="col-sm-4">
                        <a *ngIf= 'gd.detailslength !== 0' style="color: white !important;" (click)="playHistory(gd.mmsi, gd.anch_anomalies)">
                          <img src="../../../assets/soi/Play.svg" />
                          <span class="roipannelsubheader">Play history</span>
                         </a>
                      </div>
                    </div>
                    
                      <mat-card-content *ngIf= 'gd.detailslength === 0' id="trackinfo-content">
                        <div class="row">
                          <div class="col-sm-12">
                            <span class="trackinfoheading"> No Anchorage Anomaly </span>
                          </div>
                        </div>
                      </mat-card-content>
                      <div style="max-height: 200px; overflow-y: auto" class="scroll">
                      <mat-card-content *ngFor="let d of gd.anch_anomalies" id="trackinfo-content">
                        <div class="row">
                          <div class="col-sm-8">
                            <span class="trackinfoindex"> {{d.index}} </span>
                            <span class="trackinfoheading">Trajectory ID: </span>
                            <span class="trackinfodetails"> {{d.tj}}</span>
                          </div>

                          <div class="col-sm-4 padding-lr-0" style="font-size: 16px;font-family: Charlie Text;">
                            <span style="margin-right: 25px;" class="trackinfoheading"> Show Trajectory
                              <img width="30px" class="img-vertical-align-sub" src={{d.src}} value={{d.value}}
                                id={{g.group_name}}_{{gd.mmsi}}_{{d.tj}}_goianchorageanomaly
                                (click)='showGoiAnchorageanomalyTracjectory(g.group_name,gd.mmsi,d.tj)' />
                            </span>
                          </div>
                        </div>
                        <mat-card-content id="trackinfo-subcontent" style="min-height: 7em;">
                          <div id={{g.group_name}}_{{gd.mmsi}}_{{d.tj}}_goianchorageanomaly_anomaly_Linegraph>
                            <div style="height: 10px;background-color: black;position: relative;">
                              <span style="top:-5px;position:absolute;left:0">
                                <img height=20 src="../../assets/anomaly/dot-circle.svg" alt="start"/> </span>
                              <!-- anomaly -->
                                <a *ngFor="let a of d.an" matTooltip={{a.message}} style="top:-5px;position:absolute;" [ngStyle]="{'left.%' : + a.percentage}"> 
                                          <img height=20 src="../../assets/anomaly/alert.svg" alt="anomaly"/></a>
                              <span style="top:-5px;position:absolute;right:0">
                                <img height=20 src="../../assets/anomaly/dot-circle.svg" alt="end"/> </span>
                                <p style="top:10px;position:absolute;left:0;font-family: CharlieText-Bold;">{{d.sp}}<br> 
                                  <span style="font-size:10px">ATD: {{d.ATD}}</span> </p>
      
                                <p style="top:10px;position:absolute;right:0;font-family: CharlieText-Bold;text-align: right">
                                    {{d.ep}} <br> <span style="font-size:10px">ETA: {{d.ETA}}</span></p>
                            </div>
                          </div>
                        </mat-card-content>
                      </mat-card-content>
                    </div>
                  </mat-card>
                  </div>
                  </div>
                  </div>
                </mat-card>


              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>