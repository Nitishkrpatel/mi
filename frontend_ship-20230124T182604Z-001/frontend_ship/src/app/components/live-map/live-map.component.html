<div *ngIf="loginStatus == 'true'" id="overall">
  <link rel="stylesheet" href="/../../../assets/css/individualcss/sidenavbar.css">
  <link rel="stylesheet" href="/../../../assets/css/individualcss/popup.css">
  <link rel="stylesheet" href='/../../../assets/css/individualcss/layers.css'>

  <app-main-navbar (speedEvent)=receiveSpeed($event) (clockstatusEvent)=receiveClockStatus($event)
    (localtimeEvent)=receiveLocaltime($event) (searchedEvent)=receiveSearchResult($event) 
    (searchedDataEvent)=receiveSearchData($event) ></app-main-navbar>
  <mat-drawer-container class="example-container mat-typography" autosize>
    <mat-drawer #drawer mode="side" disableClose="true" opened="true">
      <mat-nav-list id="sidenavbar-cust" style="position: fixed;">
        <app-sidenav (fullscreenEvent)=receiveFullscreen($event) (rolFeaturesEvent)=receiveFeatures($event)>
        </app-sidenav>
      </mat-nav-list>
    </mat-drawer>

    <div class="example-sidenav-content">
      <div class="row">
        <div id="secondnavbar">
          <app-ship-of-interst (SOISelectedEvent)=receiveSoiSeletected($event) (DeleteSOIEvent)=receiveDeleteSoI($event)
            (TracktrajectoryEvent)=receiveTrackTraj($event) (removeTrackTrajEvent)=receiveRemoveTrackTraj($event)
            (shiptypedeviationtrajectoryEvent)=receiveShipTypeDeviationTraj($event)
            (shiptypedeviaitontrajanomalyEvent)=receiveShipTypeAnomaly($event)
            (removeanomalyTrajEvent)=receiveRemoveAnomalyTraj($event)
            (anchoragedeviationtrajectoryEvent)=receivAanchorageAnomalyTraj($event)
            (anchoageanomalyanomalyEvent)=receiveAnchorageAnomaly($event)
            (GOISelectedEvent)=receiveGoiSeletected($event) (EditGOIEvent)=receiveEditGoi($event)
            (DeleteGoiEvent)=receiveDeleteGOI($event) (DeleteGOIMMSIEvent)=receiveDeleteGoIMMSI($event)
            (TrackTrajectoryPointsEvent)=receiveTrackTrajectoryPoints($event)
            (removeTrackTrajectoryPointsEvent)=receiveRemoveTrackTrajectoryPoints($event)></app-ship-of-interst>

          <app-region-of-interest (markareaEvent)=receiveMarkArea($event) (markregionEvent)=receiveDrawRegion($event)
            (removemarkedregionEvent)=receiveRemoveRegion($event) (ROISelectedEvent)=receiveRoiSeletected($event)
            (EditROIEvent)=receiveEditrroI($event) (DeleteROIEvent)=receiveDeleteRoI($event)
            (RoITrajectoryEvent)=receiveRoITrajectory($event)
            (RemoveRoITrajectoryEvent)=receiveRemoveRoITrajectory($event)></app-region-of-interest>

          <app-vessel-filter (VFSelectedEvent)=receiveVFSeletected($event)
                              (VFSelectedMarkEvent)=receiveVFSeletectedMark($event)
                              (markextentEvent)=receiveAddExtent($event) 
                              (editPresetEvent)=receiveEditPreset($event)
                              (deletePresetEvent)=receiveDeletePreset($event)
                              (markEditEvent)=receiveMarkEditEvent($event)
                              (editextentEvent)=receiveEditExtent($event)></app-vessel-filter>

          <app-density-map (DMSelectedEvent)=receiveDMSeletected($event) (RangeEvent)=receiveRange($event)
              (PlotPortEvent)=receivePlotPorts($event) (PlotDensityEvent)=receivePlotDensity($event) 
              (PlotDensityShipsEvent)=receivePlotDensityShips($event) > </app-density-map>

        </div>

        <div class="col-12" style="padding: 0px">
          <div id="map" class="map">
            <mat-icon class="collapse-sidenav" id="collapse-sidenav" (click)="toggleSecondNavbar()">
            </mat-icon>

            <div class="ol-custom-colors-button">
              <div *ngFor="let r of rangeValues">
                <div class="range-value-box"  [ngStyle]="{'background-color':'' + r.clr  }">
                 <span class="range-value"> {{r.val}}</span>
                </div>
              </div>
            </div>

            
            <div class="ol-custom ol-unselectable ol-control" id="disable-mapevent">

              <div style="float: right;">
                <!-- <ng-template #Graticule>
                  <p>Show Graticule</p>
                </ng-template> -->
                <button id="graticule" [ngClass]="{ 'activebutton': graticule == true}" matTooltip="Show Graticule"
                  matTooltipPosition='left' (click)="showGraticule()" class="ol-zoom-in customZoomIn graticule" type="button">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path id="imageColors" [ngClass]="{ 'activeImg': graticule == true}" fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M5.83333 0.625C5.25804 0.625 4.79167 1.09137 4.79167 1.66667V4.79167H1.66667C1.09137 4.79167 0.625 5.25804 0.625 5.83333C0.625 6.40863 1.09137 6.875 1.66667 6.875H4.79167V13.125H1.66667C1.09137 13.125 0.625 13.5914 0.625 14.1667C0.625 14.742 1.09137 15.2083 1.66667 15.2083H4.79167V18.3333C4.79167 18.9086 5.25804 19.375 5.83333 19.375C6.40863 19.375 6.875 18.9086 6.875 18.3333V15.2083H13.125V18.3333C13.125 18.9086 13.5914 19.375 14.1667 19.375C14.742 19.375 15.2083 18.9086 15.2083 18.3333V15.2083H18.3333C18.9086 15.2083 19.375 14.742 19.375 14.1667C19.375 13.5914 18.9086 13.125 18.3333 13.125H15.2083V6.875H18.3333C18.9086 6.875 19.375 6.40863 19.375 5.83333C19.375 5.25804 18.9086 4.79167 18.3333 4.79167H15.2083V1.66667C15.2083 1.09137 14.742 0.625 14.1667 0.625C13.5914 0.625 13.125 1.09137 13.125 1.66667V4.79167H6.875V1.66667C6.875 1.09137 6.40863 0.625 5.83333 0.625ZM6.875 13.125V6.875H13.125V13.125H6.875Z" />
                  </svg>
                </button>

                <ng-template class="popover-color" #anchor>
                  <h4 class='popoverheader'><img src="../../../assets/map/map-type.svg" alt="map-type" />map types
                  </h4>
                  <mat-radio-group>
                    <ul class="popoverul">
                      <li>
                        <mat-radio-button *ngFor="let f of rolefeatures.Map" [checked]="f.featurename == maptype "
                          (change)="changeMapType(f.featurename)" [value]="f.featurename" id={{f.featurename}}>
                          <span [ngClass]="{ 'active_text': maptype == f.featurename }"> {{f.featurename}}</span>
                        </mat-radio-button>

                      </li>
                    </ul>
                  </mat-radio-group>

                  <mat-radio-group>
                    <h4 class='popoverheader'>Opacity</h4>
                  <input id="range_bgMapOpacity" type="range" min="0.2" max="1" step=".1" value={{opacitySildervalue}} class ="w-100" (change)="fnChangeMapOpacity($event.target.value)"/>
                </mat-radio-group>

                  <h4 class='popoverheader'><img src="../../../assets/map/layers.svg" alt="layers" />layers</h4>
                  <ul class="popoverul" *ngFor="let f of rolefeatures.layers">

                    <li *ngIf="f.featurename == 'Anchors'" id='Anchors' placement="left" [ngbPopover]='Anchors'>

                      <svg style="margin-right: 0.5em;" width="20" height="20" viewBox="0 0 10 18" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path id="imageColors"
                          [ngClass]="{ 'activeImg': checkedknownanchors == true || checkedpredictanchors == true }"
                          d="M9.50452 2.74415C9.86788 2.25443 9.82801 1.56021 9.38392 1.11612C8.89576 0.627961 8.1043 0.627961 7.61615 1.11612L0.603196 8.12907L0.506544 8.24103L0.495544 8.25585C0.132181 8.74557 0.172058 9.43979 0.616149 9.88388L7.6291 16.8968L7.74106 16.9935L7.75588 17.0045C8.2456 17.3679 8.93982 17.328 9.38392 16.8839L9.39687 16.8709L9.49352 16.759L9.50452 16.7441C9.86788 16.2544 9.82801 15.5602 9.38392 15.1161L3.26812 9L9.39687 2.87093L9.49352 2.75897L9.50452 2.74415Z"
                          fill="#ffffff" />
                      </svg>

                      <svg style="margin-right: 0.5em;" width="20" height="20" viewBox="0 0 20 20" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path id="imageColors"
                          [ngClass]="{ 'activeImg': checkedknownanchors == true || checkedpredictanchors == true }"
                          d="M17.2997 10.9318C16.3664 11.3318 15.4331 11.7401 14.4997 12.1401C14.3497 12.2068 14.2497 12.3318 14.2497 12.4985C14.2414 12.6735 14.3414 12.7985 14.4997 12.8818C14.6497 12.9568 14.7997 13.0318 14.9497 13.0985C15.0497 13.1401 15.0497 13.1818 14.9914 13.2651C14.8081 13.5068 14.5997 13.7235 14.3581 13.9068C13.5497 14.4985 12.6248 14.6735 11.6497 14.7151C11.4664 14.7235 11.4081 14.6818 11.4081 14.4818C11.4164 13.0318 11.4164 11.5735 11.4164 10.1235C11.4164 9.99846 11.4164 9.91512 11.2414 9.91512C10.4164 9.92346 9.59975 9.92346 8.77475 9.91512C8.64142 9.91512 8.60808 9.96512 8.60808 10.0901C8.61642 10.8318 8.60808 11.5735 8.60808 12.3151C8.60808 13.0485 8.60808 13.7901 8.60808 14.5235C8.60808 14.6651 8.56642 14.7235 8.42475 14.7151C7.99975 14.6985 7.57475 14.6651 7.15808 14.5651C6.34142 14.3735 5.62475 14.0151 5.09975 13.3401C4.95808 13.1651 4.96642 13.1568 5.15808 13.0651C5.28308 13.0068 5.39975 12.9485 5.52475 12.8901C5.61642 12.8485 5.69142 12.7818 5.73308 12.6901C5.84142 12.4651 5.74142 12.2485 5.46642 12.1318C4.55808 11.7401 3.65808 11.3401 2.74975 10.9568C2.39142 10.7901 2.09975 10.9818 2.10808 11.3651C2.13308 12.1151 2.16642 12.8735 2.19975 13.6235C2.21642 13.9401 2.22475 14.2568 2.24975 14.5651C2.25808 14.7401 2.34975 14.8568 2.51642 14.9068C2.68308 14.9568 2.83308 14.8985 2.94142 14.7651C2.99142 14.7068 3.03308 14.6485 3.06642 14.5818C3.13308 14.4568 3.18308 14.4818 3.25808 14.5818C3.49142 14.9068 3.75808 15.2068 4.04975 15.4901C5.00808 16.4151 6.16642 16.9901 7.41642 17.4068C7.94142 17.5818 8.48308 17.7401 8.94142 18.0568C9.24975 18.2651 9.53308 18.5068 9.64975 18.8818C9.70808 19.0568 9.80808 19.1651 9.99975 19.1651C10.1997 19.1651 10.2998 19.0485 10.3498 18.8735C10.4081 18.6818 10.5081 18.5318 10.6497 18.3901C10.9747 18.0568 11.3748 17.8401 11.8081 17.6818C12.2664 17.5068 12.7414 17.3651 13.1997 17.1901C14.5997 16.6568 15.7998 15.8568 16.7081 14.6485C16.8414 14.4735 16.8414 14.4735 16.9748 14.6568C17.0664 14.7818 17.1498 14.9151 17.3247 14.9401C17.5914 14.9735 17.7498 14.8068 17.7664 14.4568C17.8164 13.4235 17.8581 12.3985 17.8914 11.3651C17.9081 10.9985 17.6164 10.7985 17.2997 10.9318ZM7.56642 9.04012C7.65808 8.95679 7.74975 8.93179 7.86642 8.93179C9.24142 8.93179 10.6081 8.94012 11.9831 8.93179C12.1748 8.93179 12.3247 8.96512 12.4831 9.09846C13.0581 9.56512 13.8748 9.50679 14.4081 8.99846C14.9414 8.49012 15.0164 7.66512 14.5914 7.07346C14.1581 6.46512 13.3414 6.24846 12.6997 6.61512C12.4331 6.76512 12.1831 6.81512 11.8997 6.79846C11.7914 6.79012 11.6748 6.79012 11.5664 6.79846C11.4331 6.80679 11.3831 6.77346 11.3831 6.62346C11.3914 6.10679 11.3914 5.58179 11.3831 5.06512C11.3831 4.95679 11.4248 4.89846 11.4998 4.83179C12.0581 4.31512 12.3164 3.68179 12.2581 2.92346C12.1497 1.47346 10.6748 0.490122 9.29142 0.948455C8.45808 1.22346 7.92475 1.80679 7.74975 2.66512C7.57475 3.50679 7.83308 4.24012 8.46642 4.82346C8.54975 4.89846 8.59142 4.97346 8.59142 5.09012C8.58308 5.34012 8.59142 5.58179 8.59142 5.83179C8.59142 6.08179 8.58308 6.34012 8.59142 6.59012C8.60808 6.74012 8.57475 6.80679 8.40808 6.79012C8.18308 6.77346 7.96642 6.78179 7.74142 6.79012C7.62475 6.79012 7.53308 6.75679 7.43308 6.69012C6.79142 6.24846 5.92475 6.38179 5.43308 6.99012C4.95808 7.58179 5.00808 8.44846 5.54975 8.97346C6.11642 9.52346 6.98308 9.55679 7.56642 9.04012ZM9.99142 2.46512C10.3247 2.46512 10.5914 2.72346 10.5997 3.05679C10.5997 3.39012 10.3331 3.66512 9.99975 3.65679C9.68308 3.65679 9.40808 3.39012 9.39975 3.07346C9.39142 2.74012 9.65808 2.46512 9.99142 2.46512Z"
                          fill="white" />
                      </svg>

                      <span
                        [ngClass]="{ 'active_text': checkedknownanchors == true || checkedpredictanchors == true }">{{f.featurename}}</span>
                    </li>


                    <li *ngIf="f.featurename == 'Ports'" id='Ports' (change)="getPorts($event)">
                      <input type="checkbox" class="form-check-input check-box-styling" [checked]="checkedports"
                        value=f.featurename>
                      <svg style="margin-right: 0.5em;" width="20" height="20" viewBox="0 0 20 20" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path id="imageColors" [ngClass]="{ 'activeImg': checkedports == true }"
                          d="M14.5807 17.3333C13.7567 17.3333 13.4001 17.0483 12.8611 16.6174C12.2377 16.1197 11.4632 15.5 9.99466 15.5C8.52708 15.5 7.7525 16.1197 7.13008 16.6183C6.592 17.0483 6.23633 17.3333 5.41225 17.3333C4.59 17.3333 4.23433 17.0483 3.69625 16.6183C3.20308 16.2232 2.61553 15.7521 1.66274 15.5735C1.21038 15.4887 0.833496 15.8731 0.833496 16.3333V16.5C0.833496 16.9602 1.22131 17.3024 1.65147 17.4661C1.97712 17.59 2.23178 17.7938 2.55041 18.0483C3.17283 18.547 3.9465 19.1667 5.41225 19.1667C6.87983 19.1667 7.6535 18.547 8.27591 18.0493C8.81491 17.6184 9.17058 17.3333 9.99466 17.3333C10.8197 17.3333 11.1964 17.634 11.7162 18.0493C12.3386 18.547 13.1132 19.1667 14.5807 19.1667C16.0483 19.1667 16.8229 18.547 17.4453 18.0493C17.7556 17.8014 18.0149 17.5943 18.3491 17.4677C18.7794 17.3046 19.1668 16.9602 19.1668 16.5V16.3333C19.1668 15.8731 18.79 15.4888 18.3376 15.5734C17.3834 15.7519 16.7944 16.2229 16.3004 16.6174C15.7614 17.0483 15.4048 17.3333 14.5807 17.3333ZM4.50016 6.79168L4.28373 6.84578C3.39074 7.06903 2.84781 7.97392 3.07106 8.86691L4.50016 14.5833C4.50016 14.5833 5.13083 14.5833 5.41225 14.5833C6.87983 14.5833 7.6535 13.9637 8.27591 13.4659C8.81491 13.0351 9.17058 12.75 9.99466 12.75C10.8197 12.75 11.1964 13.0507 11.7162 13.4659C12.3386 13.9637 13.1132 14.5833 14.5807 14.5833C14.8649 14.5833 15.5002 14.5833 15.5002 14.5833L15.5249 14.4853L16.9293 8.86687C17.1526 7.97389 16.6096 7.06904 15.7166 6.8458L15.5002 6.79168V3.58426C15.5002 3.14609 15.1912 2.77026 14.7632 2.68501L10.9168 1.91593V1.75001C10.9168 1.24375 10.5064 0.833344 10.0002 0.833344C9.4939 0.833344 9.0835 1.24375 9.0835 1.75001V1.91593L5.23716 2.68501C4.80908 2.77026 4.50016 3.14609 4.50016 3.58426V6.79168ZM6.3335 4.33409L10.0002 3.60076L13.6668 4.33409V6.33334L10.0002 5.41668L6.3335 6.33334V4.33409Z" />
                      </svg>
                      <span [ngClass]="{ 'active_text': checkedports == true }">{{f.featurename}}</span>
                    </li>

                    <li *ngIf="f.featurename == 'Lighthouses'" id='Lighthouses'>
                      <input type="checkbox" class="form-check-input check-box-styling" value=f.featurename disabled>
                      <svg style="margin-right: 0.5em;" width="20" height="20" viewBox="0 0 20 20" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path id="imageColors"
                          d="M18.576 18.7542C18.4593 18.3958 18.2427 18.1708 17.7593 18.1792C16.5677 18.1958 15.376 18.1875 14.1843 18.1875C14.076 18.1875 13.9843 18.2042 13.976 18.0375C13.851 16.7458 13.726 15.4625 13.5927 14.1708C13.5677 13.9125 13.5677 13.9125 13.3343 14.0292C11.0427 15.1375 8.75101 16.2542 6.45101 17.3542C6.15101 17.4958 5.99268 17.6625 6.02601 17.9875C6.04268 18.1542 5.95934 18.1875 5.80934 18.1875C4.60101 18.1792 3.38434 18.1875 2.17601 18.1875C1.80101 18.1875 1.58434 18.3458 1.45101 18.6959C1.41768 18.7625 1.39268 18.8375 1.36768 18.9042V19.2958C1.38434 19.3209 1.40101 19.3375 1.40934 19.3625C1.55934 19.8458 1.75934 19.9958 2.25101 19.9958H12.0093C13.9427 19.9958 15.876 19.9958 17.8093 19.9958C17.9677 19.9958 18.1177 19.9792 18.251 19.8875C18.5677 19.6709 18.7177 19.1792 18.576 18.7542ZM7.04268 5.45418C8.95101 5.44585 10.8593 5.45418 12.7593 5.45418C13.1677 5.45418 13.1677 5.45418 13.1677 5.04585C13.1593 3.47085 12.151 2.21251 10.6177 1.88751C10.476 1.85418 10.4427 1.79585 10.4427 1.67085C10.451 1.32918 10.4343 0.979181 10.451 0.637514C10.4677 0.345848 10.376 0.129181 10.1177 0.00418091H9.88434C9.61768 0.129181 9.53434 0.345848 9.54268 0.629181C9.55934 0.970848 9.54268 1.30418 9.55101 1.64585C9.55101 1.78751 9.52601 1.86251 9.35934 1.88751C9.01768 1.94585 8.70101 2.07085 8.40101 2.25418C7.30101 2.94585 6.79268 3.94585 6.82601 5.23751C6.82601 5.40418 6.86768 5.45418 7.04268 5.45418ZM2.18434 2.61251C3.05101 2.90418 3.91768 3.22918 4.78434 3.53751C4.88434 3.57085 4.99268 3.62085 5.10101 3.62085C5.46768 3.64585 5.78434 3.40418 5.88434 3.02918C5.98434 2.62085 5.78434 2.19585 5.40934 2.06251C4.40101 1.68751 3.37601 1.32085 2.35934 0.954181C1.99268 0.829181 1.61768 1.00418 1.45101 1.36251C1.42601 1.42918 1.39268 1.49585 1.36768 1.56251V1.91251C1.50101 2.30418 1.80101 2.47918 2.18434 2.61251ZM2.36768 7.21251C3.36768 6.85418 4.37601 6.49585 5.36768 6.12918C5.82601 5.96251 6.00934 5.51251 5.83434 5.04585C5.66768 4.61251 5.29268 4.45418 4.81768 4.62085C3.90934 4.94585 3.00101 5.28751 2.08434 5.59585C1.73434 5.72918 1.46768 5.91251 1.36768 6.28752V6.60418C1.39268 6.66251 1.41768 6.72918 1.45101 6.79585C1.60934 7.17918 1.97601 7.35418 2.36768 7.21251ZM5.05101 8.07918C5.20934 8.67918 5.75101 9.08751 6.40101 9.08751C7.60101 9.08751 8.79268 9.08751 9.99268 9.08751C11.1927 9.08751 12.401 9.09585 13.601 9.08751C14.3927 9.07918 14.9927 8.48752 14.9843 7.72085C14.9843 6.96252 14.3677 6.37085 13.5843 6.37085C11.1927 6.37085 8.79268 6.37085 6.40101 6.37085C6.14268 6.37085 5.90101 6.42085 5.67601 6.55418C5.15101 6.86251 4.89268 7.48751 5.05101 8.07918ZM6.35934 14.6542C6.30101 15.2542 6.23434 15.8542 6.17601 16.4625C6.25934 16.4708 6.30934 16.4292 6.36768 16.3958C6.76768 16.2042 7.17601 16.0042 7.57601 15.8125C9.48434 14.8875 11.401 13.9625 13.3093 13.0292C13.3927 12.9875 13.4843 12.9708 13.4677 12.8292C13.4093 12.2958 13.3593 11.7708 13.3093 11.2375C13.301 11.1125 13.251 11.1042 13.151 11.1625C12.9843 11.2542 12.801 11.3375 12.626 11.4292C10.5593 12.4625 8.50934 13.5375 6.42601 14.5458C6.37601 14.5625 6.35934 14.6042 6.35934 14.6542ZM13.1927 10.0458C13.1677 9.97085 13.0927 10.0042 13.0427 10.0042C11.026 10.0042 9.00934 10.0042 6.99268 9.99585C6.84268 9.99585 6.81768 10.0542 6.80101 10.1875C6.73434 10.9208 6.65934 11.6542 6.58434 12.3792C6.55101 12.7458 6.51768 13.1125 6.47601 13.5042C6.53434 13.4792 6.57601 13.4708 6.60934 13.4542C8.76768 12.3625 10.926 11.2708 13.0843 10.1792C13.1343 10.1542 13.2177 10.1375 13.1927 10.0458ZM15.1593 3.56251C15.601 3.37918 16.0593 3.23751 16.5177 3.07085C17.0593 2.87918 17.5927 2.68751 18.126 2.48751C18.551 2.32918 18.7343 1.87085 18.5677 1.42085C18.4093 0.987514 18.026 0.812514 17.576 0.979181C16.601 1.32918 15.6343 1.67918 14.6593 2.02918C14.2843 2.16251 14.0927 2.42085 14.0927 2.80418C14.0927 3.32085 14.551 3.81251 15.1593 3.56251ZM15.151 4.62085C14.5843 4.42085 14.101 4.77085 14.101 5.53751C14.101 5.72918 14.251 5.99585 14.576 6.11251C15.601 6.49585 16.6343 6.86251 17.676 7.22085C18.001 7.33751 18.301 7.20418 18.4843 6.92085C18.7927 6.43752 18.601 5.85418 18.0677 5.66251C17.0927 5.31251 16.126 4.97085 15.151 4.62085Z" />
                      </svg>
                      {{f.featurename}}
                    </li>
                  </ul>
                </ng-template>

                <ng-template #Anchors>
                  <ul class="popoverul">
                    <li id="KnownAnchors">
                      <input type="checkbox" class="form-check-input check-box-styling" [checked]="checkedknownanchors"
                        (change)="getKnownAnchors($event)">
                      <span [ngClass]="{ 'active_text': checkedknownanchors == true }">Known Anchors</span>

                    </li>
                    <li id="PredictedAnchors">
                      <input type="checkbox" class="form-check-input check-box-styling"
                        [checked]="checkedpredictanchors" (change)="getPredictedAnchors($event)">
                      <span [ngClass]="{ 'active_text':  checkedpredictanchors == true }"> Predicted Anchors</span>

                    </li>
                  </ul>
                </ng-template>

                <button id="mapsAndLayers"
                  [ngClass]="{ 'activebutton': checkedpredictanchors == true || checkedknownanchors == true || checkedports == true}"
                  matTooltip="Map type and Layers" matTooltipPosition='left' class="ol-zoom-in customZoomOut"
                  placement="left" [ngbPopover]="anchor" [autoClose]="false" type="button">
                  <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path id="imageColors"
                      [ngClass]="{ 'activeImg':  checkedpredictanchors == true || checkedknownanchors == true || checkedports == true}"
                      d="M1.04846 3.23645L5.2122 0.748945V12.8702L1.80019 14.9281C1.29514 15.2167 0.666748 14.852 0.666748 14.2703V3.89421C0.666748 3.62235 0.812419 3.37133 1.04846 3.23645Z" />
                    <path
                      [ngClass]="{ 'activeImg':  checkedpredictanchors == true || checkedknownanchors == true || checkedports == true}"
                      id="imageColors" d="M11.2491 15.2917L6.75103 12.8296V0.708374L11.2491 3.17048V15.2917Z" />
                    <path
                      [ngClass]="{ 'activeImg':  checkedpredictanchors == true || checkedknownanchors == true || checkedports == true}"
                      id="imageColors"
                      d="M12.8116 15.2511L16.9517 12.7636C17.1877 12.6287 17.3334 12.3777 17.3334 12.1058V1.72971C17.3334 1.14803 16.705 0.783353 16.2 1.07195L12.8116 3.1299V15.2511Z" />
                  </svg>
                </button>
                <button id="zoomin" matTooltip="Zoom-In" matTooltipPosition='left' class="ol-zoom-in customZoomIn zoomin"
                  (click)="zoomIn()" type="button">
                  <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path id="imageColors"
                      d="M8.16658 4.62501C7.59129 4.62501 7.12492 5.09138 7.12492 5.66668V7.12501H5.66658C5.09129 7.12501 4.62492 7.59138 4.62492 8.16668C4.62492 8.74197 5.09129 9.20834 5.66658 9.20834H7.12492V10.6667C7.12492 11.242 7.59129 11.7083 8.16658 11.7083C8.74188 11.7083 9.20825 11.242 9.20825 10.6667V9.20834H10.6666C11.2419 9.20834 11.7083 8.74197 11.7083 8.16668C11.7083 7.59138 11.2419 7.12501 10.6666 7.12501H9.20825V5.66668C9.20825 5.09138 8.74188 4.62501 8.16658 4.62501Z" />
                    <path id="imageColors" fill-rule="evenodd" clip-rule="evenodd"
                      d="M8.16658 0.458344C3.90939 0.458344 0.458252 3.90948 0.458252 8.16668C0.458252 12.4239 3.90939 15.875 8.16658 15.875C9.91919 15.875 11.536 15.2896 12.8309 14.3041L15.7633 17.2366C16.1701 17.6434 16.8297 17.6434 17.2365 17.2366C17.6433 16.8298 17.6433 16.1702 17.2365 15.7634L14.304 12.831C15.2896 11.5361 15.8749 9.91928 15.8749 8.16668C15.8749 3.90948 12.4238 0.458344 8.16658 0.458344ZM2.54158 8.16668C2.54158 5.06007 5.05998 2.54168 8.16658 2.54168C11.2732 2.54168 13.7916 5.06007 13.7916 8.16668C13.7916 9.67718 13.1967 11.0479 12.2277 12.0588C12.1966 12.0834 12.1668 12.11 12.1383 12.1384C12.1099 12.1669 12.0833 12.1967 12.0587 12.2277C11.0478 13.1968 9.67709 13.7917 8.16658 13.7917C5.05998 13.7917 2.54158 11.2733 2.54158 8.16668Z" />
                  </svg>
                </button>
                <button id="zoomout" matTooltip="Zoom-Out" matTooltipPosition='left' class="ol-zoom-in customZoomOut zoomout"
                  (click)="zoomOut()" type="button">
                  <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path id="imageColors"
                      d="M5.66658 7.12501C5.09129 7.12501 4.62492 7.59138 4.62492 8.16668C4.62492 8.74197 5.09129 9.20834 5.66658 9.20834H10.6666C11.2419 9.20834 11.7083 8.74197 11.7083 8.16668C11.7083 7.59138 11.2419 7.12501 10.6666 7.12501H5.66658Z" />
                    <path id="imageColors" fill-rule="evenodd" clip-rule="evenodd"
                      d="M8.16658 0.458344C3.90939 0.458344 0.458252 3.90948 0.458252 8.16668C0.458252 12.4239 3.90939 15.875 8.16658 15.875C9.91919 15.875 11.536 15.2896 12.8309 14.3041L15.7633 17.2366C16.1701 17.6434 16.8297 17.6434 17.2365 17.2366C17.6433 16.8298 17.6433 16.1702 17.2365 15.7634L14.304 12.831C15.2896 11.5361 15.8749 9.91928 15.8749 8.16668C15.8749 3.90948 12.4238 0.458344 8.16658 0.458344ZM2.54158 8.16668C2.54158 5.06007 5.05998 2.54168 8.16658 2.54168C11.2732 2.54168 13.7916 5.06007 13.7916 8.16668C13.7916 9.67718 13.1967 11.0479 12.2277 12.0588C12.1966 12.0834 12.1668 12.11 12.1383 12.1384C12.1099 12.1669 12.0833 12.1967 12.0587 12.2277C11.0478 13.1968 9.67709 13.7917 8.16658 13.7917C5.05998 13.7917 2.54158 11.2733 2.54158 8.16668Z" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </mat-drawer-container>

  <!-- Popup on map -->
  <div id="popup" class="ol-popup display-none">
    <a id="popup-closer" class="ol-popup-closer"><b>x</b></a>
    <div id="popup-content">
      <h4 id="shipname"></h4>
      <p id="shipmmsi"></p>
      <div class="row">
        <div class="col-sm-6">
          <span id="ship-cat-img"></span>
          <span id="ship-category"></span>
        </div>
        <div class="col-sm-6 text-right">
          <span id="shipimg"></span>
          <span id="country"></span>
        </div>
        <div class="col-sm-4"></div>
      </div>

      <div class="row navrow">

        <div class="col-sm-10">
          <ul class="nav nav-pills" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" data-toggle="pill" href="#overview">Overview</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="pill" href="#tabular">Details</a>
            </li>
          </ul>
        </div>

        <div class="col-sm-2 fav"> <a id="addFav" class="addfav-btn" (click)="addfav()">
            <img class="heart-img" *ngIf="soiflag === 0 && goiflag === 0" src='../../../assets/popup/heart.svg'
              alt='fav' />
            <img class="heart-img" *ngIf="soiflag === 1 && goiflag === 0" src='../../../assets/popup/heart-red.svg'
              alt='fav' />
            <img class="heart-img" *ngIf="soiflag === 0 && goiflag === 1" src='../../../assets/popup/heart-blue.svg'
              alt='fav' />
            <img class="heart-img" *ngIf="soiflag === 1 && goiflag === 1" src='../../../assets/popup/heart-green.svg'
              alt='fav' />
          </a>
        </div>
        <div *ngIf="isFav" id="popup-fav" class="addfav">
          <div class="row padding-5px-0px  fav-content addtoSoi-button" (click)="addSoI()">
            <!-- <span id="shipimg"></span> -->
            <span id="multi-ship">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path id="imageColors" fill-rule="evenodd" clip-rule="evenodd"
                  d="M10.6933 1.47352L12.4745 3.41832C12.8792 3.86025 13.2356 4.3476 13.5372 4.87144C14.2763 6.15515 14.6668 7.62406 14.6668 9.12111V11.3333C14.6668 11.8855 14.219 12.3333 13.6668 12.3333H13.302C12.7407 12.3333 12.1483 12.1639 12.0001 11.9393C11.8519 11.7147 11.8519 10.4544 11.8519 10.4544C11.8519 8.9574 11.4615 7.48849 10.7224 6.20477C10.4208 5.68093 10.0644 5.19358 9.65963 4.75165L8.42656 3.40527L10.1957 1.47352C10.3331 1.2865 10.5559 1.2865 10.6933 1.47352ZM7.58565 5.75163L5.80452 3.80684C5.66712 3.61981 5.44434 3.61981 5.30693 3.80684L3.52581 5.75163C3.12107 6.19356 2.76463 6.68091 2.46303 7.20475C1.72392 8.48847 1.3335 9.95738 1.3335 11.4544V13.6666C1.3335 14.2189 1.78121 14.6666 2.3335 14.6666H8.77796C9.33024 14.6666 9.77796 14.2189 9.77796 13.6666V11.4544C9.77796 9.95738 9.38753 8.48847 8.64843 7.20475C8.34682 6.68091 7.99038 6.19356 7.58565 5.75163Z" />
              </svg>

              <!-- <img class="img-vertical-align-sub" src="../../../assets/popup/Multi-Ship.svg" alt="multi-ship" /> -->
              &nbsp;Add to Individual Ships</span>
          </div>
          <mat-divider></mat-divider>
          <div class="row padding-5px-0px fav-content getGoiShipsOnPopup" (click)="getGoiShipsOnPopup()">
            <!-- <span id="shipimg"></span> -->
            <span id="ship-group">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path [ngClass]="{ 'activeImg': togroup == true }" id="imageColors" fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M7.57448 1.51008C7.15648 0.974749 6.51921 0.659417 5.83648 0.666625H4.67782C2.01583 0.666625 0.666504 2.20674 0.666504 5.24273V10.75C0.666504 13.588 2.41916 15.3334 5.24249 15.3334H10.7498C13.5878 15.3334 15.3331 13.588 15.3331 10.7574V7.18606C15.3404 4.2234 14.0204 2.77874 11.3145 2.77874H9.06314C8.73314 2.77874 8.42514 2.62474 8.21981 2.36808L7.57448 1.51008ZM10.4606 6.21336L9.48102 5.14373C9.40545 5.04086 9.28292 5.04086 9.20735 5.14373L8.23432 6.20618L8.91249 6.94669C9.13509 7.18975 9.33113 7.45779 9.49701 7.7459C9.90351 8.45194 10.1182 9.25984 10.1182 10.0832V10.9332C10.3602 11.1166 10.678 11.1166 10.9158 11.1166H11.1664C11.4425 11.1166 11.6664 10.8927 11.6664 10.6166V9.34988C11.6664 8.52651 11.4516 7.71861 11.0451 7.01257C10.8792 6.72446 10.6832 6.45642 10.4606 6.21336ZM6.79216 6.42706L7.77176 7.49669C7.99436 7.73975 8.1904 8.00779 8.35627 8.2959C8.76278 9.00194 8.9775 9.80984 8.9775 10.6332V11.8999C8.9775 12.176 8.75365 12.3999 8.47751 12.3999H4.83315C4.55701 12.3999 4.33315 12.176 4.33315 11.8999V10.6332C4.33315 9.80984 4.54788 9.00194 4.95438 8.2959C5.12026 8.00779 5.3163 7.73975 5.53889 7.49669L6.51849 6.42706C6.59406 6.32419 6.71659 6.32419 6.79216 6.42706Z" />
              </svg>
              <!-- <img class="img-vertical-align-sub" src="../../../assets/popup/Ship Group.svg " alt="multi-ship" /> -->
              &nbsp;Add to Existing Ship Group</span>
          </div>
          <mat-divider></mat-divider>
          <div class="row padding-5px-0px fav-content openModelToAddnewGroupFromPopup" (click)="openModeltoAddNewGroup()">
            <!-- <span id="shipimg"></span> -->
            <a>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path id="imageColors" fill-rule="evenodd" clip-rule="evenodd"
                  d="M7.57448 1.51008C7.15648 0.974749 6.51921 0.659417 5.83648 0.666625H4.67782C2.01583 0.666625 0.666504 2.20674 0.666504 5.24273V10.75C0.666504 13.588 2.41916 15.3334 5.24249 15.3334H10.7498C13.5878 15.3334 15.3331 13.588 15.3331 10.7574V7.18606C15.3404 4.2234 14.0204 2.77874 11.3145 2.77874H9.06314C8.73314 2.77874 8.42514 2.62474 8.21981 2.36808L7.57448 1.51008ZM7.26647 5.79991C7.26647 5.49309 7.59481 5.06962 7.9998 5.06658C8.40788 5.06351 8.74424 5.49309 8.74424 5.79991V7.9999H10.9331C11.2399 7.9999 11.6665 8.32822 11.6665 8.73323C11.6665 9.13824 11.2399 9.46656 10.9331 9.46656H8.73313L8.74424 11.6666C8.74424 11.9734 8.40788 12.403 7.9998 12.3999C7.59481 12.3968 7.26647 11.9734 7.26647 11.6666V9.46656H5.06648C4.75966 9.46656 4.33315 9.13824 4.33315 8.73323C4.33315 8.32822 4.75966 7.9999 5.06648 7.9999H7.26647V5.79991Z" />
              </svg>

              <!-- <img class="img-vertical-align-sub" src="../../../assets/popup/Add Group.svg" alt="multi-ship" /> -->
              &nbsp;Add to New Group
            </a>
          </div>

          <mat-divider></mat-divider>
        </div>
        <div *ngIf="togroup && isFav" id="popup-group" class="togroup">
          <p *ngIf="goiforpopuplength == '0'"> No Existing Groups</p>
          <div class="row padding-5px-0px togroup-ele" *ngFor="let g of goiforpopup">
            <!-- <p>{{g}}</p> -->
            <div id={{g.Group_ID}} (click)=addMMSIToExistingGOI(g) class="dotted_wrap addMMSIToExistingGOI" matTooltip={{g.Group_ID}}>
              <img src='{{"../../../assets/popup/" + g.img + ".svg"}}' />
              &nbsp;{{g.Group_ID}}
            </div>
            <mat-divider></mat-divider>
          </div>
        </div>
      </div>


      <!-- Tab panes -->
      <div class="tab-content" id="popup_tabContent"><!-- style="height: 24em;" amal-->
        <div id="overview" class="container p-0 tab-pane active">
          <div class="row padding-20px">
            <div class="col-sm-10">
              <h5>Destination</h5>
              <h4 id="destinationport"> </h4>
            </div>
            <div class="col-sm-2">
              <a matTooltip={{destination}} id="shipdestination"> </a>
              <!-- <img src='../../../assets/popup/distination_flag.svg' alt="destination" /> -->
            </div>
          </div>


          <div class="row padding-20px">
            <div class="col-sm-8">
              <h5>ETA </h5>
              <h4 id="shipeta"></h4>
            </div>

            <div style="display: none;" class="col-sm-4" id="vfTrack">
              <h5><button id="showvfTrack" class="btn explain-btn showvfTrack" (click)=showvfTrack()>
                Show Track</button></h5>
            </div>
          </div>


          <div class="row padding-20px">
            <div class="col-9">
              <h5>Predicted type:</h5>
              <!-- <h4 *ngFor="let p of predictedclasstype">{{p.type}}- {{p.value}} %</h4> -->
              <h4 *ngFor="let p of predictedclasstype">{{p.vesseltype}}- {{p.vesseltype_prediction}} %</h4>
            </div>
            <div class="col-3 text-center">
              <a id="predictType" class="predictClass" (click)='predictClass()'>
                <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path id="imageColors" [ngClass]="{ 'activeImg': predictclass == true}" fill-rule="evenodd" clip-rule="evenodd"
                    d="M10.461 2.55305C9.60546 2.28682 8.70121 2.25809 7.83259 2.46953C6.96397 2.68098 6.15929 3.12571 5.49363 3.76223C4.82798 4.39875 4.32305 5.20631 4.02596 6.10956C3.86929 6.58587 3.38338 6.83536 2.94066 6.66681C2.49793 6.49826 2.26603 5.97549 2.4227 5.49918C2.81563 4.30456 3.48344 3.2365 4.36382 2.39465C5.2442 1.5528 6.30845 0.964607 7.45727 0.684953C8.6061 0.405299 9.80204 0.4433 10.9335 0.795408C12.0606 1.14615 13.0871 1.79717 13.9181 2.68808L15.6325 4.42125V2.14499C15.6325 1.63973 16.0132 1.23014 16.4828 1.23014C16.9525 1.23014 17.3332 1.63973 17.3332 2.14499V6.53625C17.3332 7.0415 16.9525 7.45109 16.4828 7.45109H12.4012C11.9316 7.45109 11.5509 7.0415 11.5509 6.53625C11.5509 6.03099 11.9316 5.6214 12.4012 5.6214H14.3361L12.7441 4.01196C12.7376 4.00542 12.7312 3.99876 12.7249 3.992C12.0954 3.31432 11.3165 2.81928 10.461 2.55305ZM0.666504 9.46375C0.666504 8.9585 1.04721 8.54891 1.51684 8.54891H5.59848C6.06811 8.54891 6.44882 8.9585 6.44882 9.46375C6.44882 9.96901 6.06811 10.3786 5.59848 10.3786H3.66357L5.2556 11.988C5.26208 11.9946 5.26846 12.0012 5.27474 12.008C5.90432 12.6857 6.6832 13.1807 7.5387 13.447C8.39421 13.7132 9.29847 13.7419 10.1671 13.5305C11.0357 13.319 11.8404 12.8743 12.506 12.2378C13.1717 11.6013 13.6766 10.7937 13.9737 9.89044C14.1304 9.41413 14.6163 9.16464 15.059 9.33319C15.5017 9.50174 15.7336 10.0245 15.577 10.5008C15.184 11.6954 14.5162 12.7635 13.6359 13.6054C12.7555 14.4472 11.6912 15.0354 10.5424 15.315C9.39358 15.5947 8.19763 15.5567 7.06615 15.2046C5.93908 14.8539 4.91257 14.2028 4.08161 13.3119L2.36718 11.5787V13.855C2.36718 14.3603 1.98647 14.7699 1.51684 14.7699C1.04721 14.7699 0.666504 14.3603 0.666504 13.855V9.46375Z" />
                </svg>
              </a>
              <button *ngIf="predictedclasstypelength !== 0" class="btn explain-btn predictedTypeExplain d-none" (click)=getPredictedTypeExplain()>
                Explain</button>
            </div>
          </div>


          <div class="row padding-20px" style="border-bottom: 1px dashed black;">
            <div class="col-9">
              <h5>Predicted Destination:</h5>
              <h4>{{ predictedDestination }}</h4>
            </div>
            <div class="col-3 text-center">
              <a id="predictDestination" class="predictDestination" (click)='predictDestination()'>
                <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path id="imageColors" [ngClass]="{ 'activeImg': predictdestination == true}" fill-rule="evenodd" clip-rule="evenodd"
                    d="M10.461 2.55305C9.60546 2.28682 8.70121 2.25809 7.83259 2.46953C6.96397 2.68098 6.15929 3.12571 5.49363 3.76223C4.82798 4.39875 4.32305 5.20631 4.02596 6.10956C3.86929 6.58587 3.38338 6.83536 2.94066 6.66681C2.49793 6.49826 2.26603 5.97549 2.4227 5.49918C2.81563 4.30456 3.48344 3.2365 4.36382 2.39465C5.2442 1.5528 6.30845 0.964607 7.45727 0.684953C8.6061 0.405299 9.80204 0.4433 10.9335 0.795408C12.0606 1.14615 13.0871 1.79717 13.9181 2.68808L15.6325 4.42125V2.14499C15.6325 1.63973 16.0132 1.23014 16.4828 1.23014C16.9525 1.23014 17.3332 1.63973 17.3332 2.14499V6.53625C17.3332 7.0415 16.9525 7.45109 16.4828 7.45109H12.4012C11.9316 7.45109 11.5509 7.0415 11.5509 6.53625C11.5509 6.03099 11.9316 5.6214 12.4012 5.6214H14.3361L12.7441 4.01196C12.7376 4.00542 12.7312 3.99876 12.7249 3.992C12.0954 3.31432 11.3165 2.81928 10.461 2.55305ZM0.666504 9.46375C0.666504 8.9585 1.04721 8.54891 1.51684 8.54891H5.59848C6.06811 8.54891 6.44882 8.9585 6.44882 9.46375C6.44882 9.96901 6.06811 10.3786 5.59848 10.3786H3.66357L5.2556 11.988C5.26208 11.9946 5.26846 12.0012 5.27474 12.008C5.90432 12.6857 6.6832 13.1807 7.5387 13.447C8.39421 13.7132 9.29847 13.7419 10.1671 13.5305C11.0357 13.319 11.8404 12.8743 12.506 12.2378C13.1717 11.6013 13.6766 10.7937 13.9737 9.89044C14.1304 9.41413 14.6163 9.16464 15.059 9.33319C15.5017 9.50174 15.7336 10.0245 15.577 10.5008C15.184 11.6954 14.5162 12.7635 13.6359 13.6054C12.7555 14.4472 11.6912 15.0354 10.5424 15.315C9.39358 15.5947 8.19763 15.5567 7.06615 15.2046C5.93908 14.8539 4.91257 14.2028 4.08161 13.3119L2.36718 11.5787V13.855C2.36718 14.3603 1.98647 14.7699 1.51684 14.7699C1.04721 14.7699 0.666504 14.3603 0.666504 13.855V9.46375Z" />
                </svg>
              </a>
            </div>
          </div>

          <div class="row padding-20px font-black">
            <div class="col-sm-10">
              <h5> {{ modelName }}</h5>
              <h5> {{ predictedclasspreprocesstime }} </h5>
              <h5>{{ predictedclassmodeltime }}</h5>
            </div>
          </div>

        </div>
        <div id="tabular" class="container p-0 tab-pane fade ">
          <table class=" table-sm table-striped" id="popup-table">
          </table>
        </div>
      </div>

      <div class="row popup-footer">
        <div id="pastTrackDiv" class="col-sm-6 b1"><a id="pastTrack" class="pastTrack" (click)="pastTrack()">PAST TRACK</a></div>
        <div class="col-sm-6 b2"><a id="pastRoute" class="predictRoute" (click)="predictRoute()">PREDICT ROUTE</a></div>
      </div>

    </div>
  </div>
  <!-- End popup on map -->

  <!-- ports popup -->
  <div id="portshover" class="ol-popup-hover display-none">
  </div>

  <!-- known anchors popup -->
  <div id="knownanchorshover" class="ol-popup-hover display-none">
  </div>

  <!-- predicted anchors popup -->
  <div id="predanchorshover" class="ol-popup-hover display-none">
  </div>


  <!-- Trajectory anchors popup -->
  <div id="trajhover" class="ol-popup-hover display-none">
  </div>

  <!-- ships popup -->
  <div id="shipshover" class="ol-popup-hover display-none">
  </div>

  <!-- region popup -->
  <div id="regionhover" class="ol-popup-hover display-none">
  </div>

  <!-- top ports hover -->
  <div id="densityPortHover" class="ol-popup-hover display-none">
  </div>


  <!-- add roi modal -->
  <button type="button" class="btn btn-primary display-none" id="openAddROIModel" data-toggle="modal"
    data-target="#roiModel"> Open Add ROI Model</button>
  <div class="modal" id="roiModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          <form [formGroup]="regionFrom" (ngSubmit)="AddRegionOfInterest()">
            <div class="form-group">
              <input formControlName="roi" id="roi" type="text" class="form-control"
                [ngClass]="{ 'is-invalid': regionsubmitted && r.roi.invalid }" placeholder="Enter region name"
                autocomplete="off">
              <div *ngIf="regionsubmitted && r.roi.invalid" class="invalid-feedback">
                <div *ngIf="r.roi.errors.required">Region name is required.</div>
                <div *ngIf="r.roi.errors.duplicate">Region name already exists.</div>
                <div *ngIf="r.roi.errors.empty">Enter a valid Region name.</div>
              </div>
            </div>
            <div class="row margin-tb-1em">
              <div class="col-3 padding-lr-0 roipoint">Point 1: </div>
              <div class="col-9 padding-lr-0 coordinates" id="topLeft"></div>
            </div>
            <div class="row margin-tb-1em">
              <div class="col-3 padding-lr-0 roipoint">Point 2: </div>
              <div class="col-9 padding-lr-0 coordinates" id="topRight"></div>
            </div>
            <div class="row margin-tb-1em">
              <div class="col-3 padding-lr-0 roipoint">Point 3: </div>
              <div class="col-9 padding-lr-0 coordinates" id="bottomRight"></div>
            </div>
            <div class="row margin-tb-1em">
              <div class="col-3 padding-lr-0 roipoint">Point 4: </div>
              <div class="col-9 padding-lr-0 coordinates" id="bottomLeft"></div>
            </div>
            <button class="btn btn-dark add-roi-button width100" type="submit">ADD</button>
            <button class="btn btn-light cancel-roi-button width100" id="closeroimodel" data-dismiss="modal"
              type="button" (click)="removeinteraction()">CANCEL</button>
          </form>
          <p id="topLeftCoord" class="display-none"> </p>
          <p id="topRightCoord" class="display-none"> </p>
          <p id="bottomRightCoord" class="display-none"> </p>
          <p id="bottomLeftCoord" class="display-none"> </p>
        </div>
      </div>
    </div>
  </div>
  <!--end add roi modal -->

  <!--add goi modal -->
  <button class="display-none" id="add-to-newgroup" data-toggle="modal" data-target="#goiModel"> add to
    newgroup</button>
  <div class="modal" id="goiModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered ">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="createheader">Create New Group</h4>
        </div>
        <div class="modal-body">
          <form [formGroup]="goiFrom">
            <div class="form-group">
              <input formControlName="group_name" id="group_name" type="text" class="form-control"
                [ngClass]="{ 'is-invalid': goisubmitted && g.group_name.invalid }" placeholder="Enter Group Name"
                autocomplete="off">
              <div *ngIf="goisubmitted && g.group_name.invalid" class="invalid-feedback">
                <div *ngIf="g.group_name.errors.empty">Enter a valid Group name.</div>
                <div *ngIf="g.group_name.errors.required">Group name is required.</div>
                <div *ngIf="g.group_name.errors.duplicate">Group name already exists.</div>
              </div>
            </div>
            <button class="btn btn-dark add-roi-button width100" type="submit" (click)="addGoI()">
              CREATE
            </button>
            <button class="btn btn-light cancel-roi-button width100" id="closegoiModel" data-dismiss="modal"
              type="button" (click)="closeGoiModel()">CANCEL</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!--end add goi modal -->

  <!--add goi without mmsi modal-->
  <div class="modal" id="goinewModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered ">
      <div class="modal-content">
        <div class="modal-body">
          <form [formGroup]="goiFrom">
            <div class="form-group">
              <input formControlName="group_name" id="group_name" type="text" class="form-control"
                [ngClass]="{ 'is-invalid': goisubmitted && g.group_name.invalid }" placeholder="Enter Group Name"
                autocomplete="off">
              <div *ngIf="goisubmitted && g.group_name.invalid" class="invalid-feedback">
                <div *ngIf="g.group_name.errors.empty">Enter a valid Group name.</div>
                <div *ngIf="g.group_name.errors.required">Group name is required.</div>
                <div *ngIf="g.group_name.errors.duplicate">Group name already exists.</div>
              </div>
            </div>
            <button class="btn btn-dark add-roi-button width100" type="submit" (click)="addGoIWithoutMMSI()">
              CREATE
            </button>
            <button class="btn btn-light cancel-roi-button width100" id="closegoinewModel" data-dismiss="modal"
              type="button" (click)="closeGoiModel()">CANCEL</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!--end add goi without mmsi modal-->

  <!-- edit roi model  -->
  <button type="button" class="btn btn-primary display-none" id="openEditROIModel" data-toggle="modal"
    data-target="#editroiModel"> open Edit ROI Model</button>
  <div class="modal" id="editroiModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          <form [formGroup]="editregionForm" (ngSubmit)="editRoI()">
            <div class="form-group">
              <input formControlName="new_roi" id="new_roi" type="text" class="form-control"
                [ngClass]="{ 'is-invalid': editregionsubmitted && er.new_roi.invalid }" placeholder="Edit region name"
                autocomplete="off">
              <div *ngIf="editregionsubmitted && er.new_roi.invalid" class="invalid-feedback">
                <div *ngIf="er.new_roi.errors.required">Region name is required.</div>
                <div *ngIf="er.new_roi.errors.samename"> Same region name.</div>
                <div *ngIf="er.new_roi.errors.duplicate">Region name already exists.</div>
                <div *ngIf="er.new_roi.errors.empty">Enter a valid Region name.</div>
              </div>
            </div>
            <button class="btn btn-dark add-roi-button width100" type="submit">Update</button>
            <button class="btn btn-light cancel-roi-button width100" id="closeeditroiModel" data-dismiss="modal"
              type="button" (click)="closeEditRoIModel()">CANCEL</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- end edit roi model  -->

  <!-- edit goi Model  -->
  <button type="button" class="btn btn-primary display-none" id="openEditGOIModel" data-toggle="modal"
    data-target="#editgoiModel"> Open Edit GOI Model</button>
  <div class="modal" id="editgoiModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          <form [formGroup]="editgoiForm" (ngSubmit)="editGroupName()">
            <div class="form-group">
              <input formControlName="new_goi" id="new_goi" type="text" class="form-control"
                [ngClass]="{ 'is-invalid': editgoisubmitted && eg.new_goi.invalid }" placeholder="Edit group name"
                autocomplete="off">
              <div *ngIf="editgoisubmitted && eg.new_goi.invalid" class="invalid-feedback">
                <div *ngIf="eg.new_goi.errors.required">Group name is required.</div>
                <div *ngIf="eg.new_goi.errors.samename"> Same Group name.</div>
                <div *ngIf="eg.new_goi.errors.duplicate">Group name already exists.</div>
                <div *ngIf="eg.new_goi.errors.empty">Enter a valid Group name.</div>
              </div>
            </div>
            <button class="btn btn-dark add-roi-button width100" type="submit">Update</button>
            <button class="btn btn-light cancel-roi-button width100" id="closeeditgoiModel" data-dismiss="modal"
              type="button" (click)="closeEditGoIModel()">CANCEL</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- end edit goi Model  -->

  <!-- Delete Soi Model -->
  <button class="display-none" id="opensoideleteModel" data-toggle="modal" data-target="#soideleteModel">Open Soi
    Delete Model</button>
  <div class="modal" id="soideleteModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          Are you sure. Do you want to delete <b>{{deletingSoiShipName}} ({{deletingsoiship}}) </b> from ships of interest?
          <div>
            <button type="button" class="btn btn-dark add-button" (click)="deleteSoI()">DELETE</button>
            <button class="btn btn-light cancel-button" id="closedeletesoimodel" data-dismiss="modal"
              type="button">CANCEL</button>
          </div>

        </div>
      </div>
    </div>
  </div>
  <!-- End Delete Soi Model -->

  <!-- Delete goi Model -->
  <button class="display-none" id="opengoideleteModel" data-toggle="modal" data-target="#goideleteModel">Open GOI
    Delete Model</button>
  <div class="modal" id="goideleteModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          Are you sure. Do you want to delete group <b>{{deletinggoiship}}</b> ?
          <div>
            <button type="button" class="btn btn-dark add-button" (click)="deleteGoI()">DELETE</button>
            <button class="btn btn-light cancel-button" id="closedeletegoimodel" data-dismiss="modal"
              type="button">CANCEL</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Delete goi Model -->

  <!-- Delete mmsi in goi Model -->
  <button class="display-none" id="openmmsiofgoideleteModel" data-toggle="modal"
    data-target="#mmsiofgoideleteModel">open mmsi of goi delete Model</button>
  <div class="modal" id="mmsiofgoideleteModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          Are you sure. Do you want to delete <b>{{deletingmmsiofgoi}}</b> from group <b>{{deletingmmsiofgoiship}}</b> ?
          <div>
            <button type="button" class="btn btn-dark add-button" (click)=" deleteMMSIOfGoI()">DELETE</button>
            <button class="btn btn-light cancel-button" id="closedeletemmsiofgoimodel" data-dismiss="modal"
              type="button">CANCEL</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Delete mmsi in goi Model -->

  <!-- Delete Roi Model -->
  <button class="display-none" id="openroideleteModel" data-toggle="modal" data-target="#roideleteModel">open roi
    delete Model</button>
  <div class="modal" id="roideleteModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          Are you sure. Do you want to delete <b> {{deletingregionname}} </b> from Region of Interest?
          <div>
            <button type="button" class="btn btn-dark add-button" (click)="deleteRoI()">DELETE</button>
            <button class="btn btn-light cancel-button" id="closedeleteroimodel" data-dismiss="modal"
              type="button">CANCEL</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Delete Roi Model -->

  <!-- Soi and ROI computation alert Model -->
  <button class="display-none" id="opensoiroicomputation" data-toggle="modal" data-target="#soiroicomputation">Open Soi
    Roi Computation Model</button>
  <div class="modal" id="soiroicomputation" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          {{ computationMessage }}
          <div>
            <button class="btn btn-light cancel-button" id="closesoiroicomputation" data-dismiss="modal"
              type="button">OK</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Soi and ROI computation alert Model -->

  <!-- ship type deviation explain -->
  <button class="display-none" id="openExplainforShiptypeDeviaiton" data-toggle="modal"
    data-target="#explainforShiptypeDeviaiton">Open Soi
    openExplainforShiptypeDeviaiton</button>
  <div class="modal" id="explainforShiptypeDeviaiton" *ngIf=true>
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body scroll" style="max-height: 75vh; overflow-y: auto; overflow-x: hidden;">
          <div class="row">
            <div class="col-sm-4">
              <form [formGroup]="setPredImageForm" noValidate>
                <select (change)="setPredImage()" class="form-control" formControlName="predtype" value=predtype id="predtype">
                  <option *ngFor="let p of predictionOptions; let i = index" [ngValue]="p.url"> {{p.type}} </option>
                </select>
              </form>
            </div>
            <div class="col-sm-4"></div>
            <div class="col-sm-4"><button class="btn explain-btn input-btn" > <a target="_blank" routerLink="/UserInput">User inputs</a></button></div>

          </div>
          
          
          <div class="row">
            <div class="col-sm-12">
              <img [src]=dataUrl alt='image' width=100%/>
            </div>
          </div>
          <!-- <iframe style="width: 100%; height: 75vh;" [src]=dataUrl></iframe> -->
          <div>
            <button class="btn btn-light cancel-button" id="closesoiroicomputation" data-dismiss="modal"
              type="button">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- End ship type deviation explain  -->

    <!-- edit preset Model  -->
  <button type="button" class="btn btn-primary display-none" id="openEditPresetModel" data-toggle="modal"
    data-target="#editpresetModel"> Open Edit preset Model</button>
  <div class="modal" id="editpresetModel" *ngIf=true>
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          <form [formGroup]="editpresetForm" (ngSubmit)="editPresetName()">
            <div class="form-group">
              <input formControlName="pname" id="pname" type="text" class="form-control"
                 placeholder="Edit preset name"
                autocomplete="off">
              <div *ngIf="editpresetsubmitted && ep.pname.invalid" class="invalid-feedback">
                <div *ngIf="ep.pname.errors.required">Group name is required.</div>
                <div *ngIf="ep.pname.errors.samename"> Same Group name.</div>
                <div *ngIf="ep.pname.errors.duplicate">Group name already exists.</div>
              </div>
            </div>
            <button class="btn btn-dark add-roi-button width100" type="submit">Update</button>
            <button class="btn btn-light cancel-roi-button width100" id="closeeditpresetModel" data-dismiss="modal"
              type="button" >CANCEL</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- end edit preset Model  -->

    <!-- Delete preset Model -->
    <button class="display-none" id="openDeletePresetModel" data-toggle="modal" data-target="#presetdeleteModel">open roi
      delete Model</button>
    <div class="modal" id="presetdeleteModel" *ngIf=true>
      <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body">
            Are you sure. Do you want to delete <b> {{deletingPresetName}} </b> from Preset?
            <div>
              <button type="button" class="btn btn-dark add-button" (click)="deletePreset()">DELETE</button>
              <button class="btn btn-light cancel-button" id="closedeletepresetmodel" data-dismiss="modal"
                type="button">CANCEL</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End Delete preset Model -->
  
</div>

<!-- If the user is not logged in -->
<div *ngIf="loginStatus == '' " class="row">
  <div class="col-sm-4"></div>
  <div class="col-sm-4 success_message">
    <i class="material-icons">sentiment_very_dissatisfied</i>
    <p>You have been logged out from the session. Please <b
        style="color: black!important;font-family: CharlieText-Bold!important;"><a routerLink="/">LOGIN AGAIN <img
            src='../../../assets/arrow.png' alt="arrow" width="15px" /></a></b></p>
  </div>
  <div class="col-sm-4"></div>
</div>
<!-- End if the user is not logged in -->